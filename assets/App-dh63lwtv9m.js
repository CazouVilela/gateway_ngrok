const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AllDestinationsPage-gh5cejxol8.js","assets/core-l0xde5f173.js","assets/broadcast-channel-l0ip3onqp3.js","assets/core-hndck8t77k.css","assets/LastSyncCell-emidb7bpvm.js","assets/LastSyncCell-ou99rcr1pc.css","assets/WorkspaceMembersPage-ecgs50g66o.js","assets/WorkspaceMembersPage-jov280ies3.css","assets/PageGridContainer-dckxjkt5on.js","assets/PageGridContainer-ohz8gjt8dr.css","assets/ScrollParent-njlyu7tm3h.js","assets/ScrollParent-octp675qh0.css","assets/ActorTable-etib2m57cb.js","assets/ConnectionStatusMessages-n0m5iyv4jg.js","assets/ConnectionStatusMessages-f1ypr8axlf.css","assets/ActorTable-e7adhzdxqj.css","assets/index-26ug8i8fd8.css","assets/CreateDestinationPage-itz66ampzu.js","assets/SelectDestinationPage-ldwdqai267.js","assets/DestinationItemPage-duvijai9t9.js","assets/ConnectorTitleBlock-ii32rsszi3.js","assets/LinkTab-b15662appz.js","assets/LinkTab-jrq5juy3qy.css","assets/ForkConnectorButton-g2wobuhnw0.js","assets/useBuilderCompatibleSourceDefinitions-cuqvdg5b6w.js","assets/ForkConnectorButton-d9gzxn0r6v.css","assets/ConnectorTitleBlock-d7n4cu0wzp.css","assets/index-etu0h1jwnf.css","assets/DestinationConnectionsPage-ekxdiifbkd.js","assets/ConnectorEmptyStateContent-kryrzvtr1h.js","assets/ConnectionTable-cjq900u8ge.js","assets/ConnectionStatusIndicator-nc7748omlo.js","assets/ConnectionStatusIndicator-j1c38xaquv.css","assets/ConnectionTable-dnfei0oq60.css","assets/ConnectionOnboarding-exzqppv3ti.js","assets/CreateNewSource-bhk2fr3saa.js","assets/SourceForm-gqggykcbc4.js","assets/index-oh1gltkvlo.css","assets/ConnectorEmptyStateContent-emnwgn731j.css","assets/index-br56xq9s7u.css","assets/DestinationSettingsPage-hpq2yez10a.js","assets/useDeleteModal-e8vpaest0w.js","assets/index-ndl5cqnxn2.css","assets/AllSourcesPage-bma8ouby1z.js","assets/index-h53j3afrx0.css","assets/CreateSourcePage-ldprv8x65b.js","assets/SelectSourcePage-eiuhq59839.js","assets/SourceItemPage-ylj7ewphdb.js","assets/index-nk9gjobt5n.css","assets/SourceConnectionsPage-l0bn6junew.js","assets/index-mul06zt9nb.css","assets/SourceSettingsPage-pbv73wbguc.js","assets/index-kb5ni50c78.css","assets/ConnectionsRoutes-bhk0we7t3e.js","assets/ConnectionsRoutes-covd8q6fi9.css","assets/LoginPage-e9pueob2be.js","assets/LoginButtons-b8u7qnx8fb.js","assets/LoginButtons-lglw72j1pu.css","assets/index-ggynvuoq6r.css","assets/SignupPage-krpqtq5m5z.js","assets/SignupPage.module-esk3xdxgvw.js","assets/SignupPage-jr43k7bnzs.css","assets/CloudMainView-1gzevbh48z.js","assets/SideBar-c2eb1hccep.js","assets/SideBar-cigukvkojn.css","assets/index-guu0enn3yo.css","assets/AuthLayout-jkypfkii3i.js","assets/index-johh2cvpqg.css","assets/DefaultView-l3vvoed7yb.js","assets/EmbeddedLoginPage-e2n5oxi2lh.js","assets/EmbeddedLoginPage-o31kc8ggnd.css","assets/EmbeddedSignUpPage-d368fngu8z.js"])))=>i.map(i=>d[i]);
import{t as L,j as a,h as W,B as Oe,M as F,a6 as Rt,I as et,cg as Un,bt as Le,L as Lt,an as Je,Q as Zn,fM as er,N as Se,R as $,fN as tr,fO as nr,aM as rr,q as ie,fP as or,fQ as sr,Y as ut,X as ar,fR as ir,fS as cr,fT as lr,O as Ae,fU as ur,o as dr,cP as re,aa as Nt,T as de,aH as he,b9 as fe,e as gr,i as Rn,ba as Ft,n as Ue,fV as fr,bh as Xe,a5 as Mt,a7 as zt,bd as mr,x as Ln,be as pr,c as Vt,F as $t,bp as tt,aE as me,aF as pe,b as Ee,fW as hr,dm as A,fX as vr,ah as yr,G as xr,fY as Nn,a1 as Bt,dF as Fn,cb as Mn,eH as br,eI as wr,g as zn,P as Vn,aW as jr,fZ as rn,cL as kr,bk as At,bB as Sr,dk as Ge,f_ as Er,bo as dt,c8 as Cr,D as M,dl as Fe,aI as Ie,bV as ce,f$ as Ir,cC as on,c9 as Pr,by as H,g0 as Dr,bs as Tr,ep as sn,eM as $n,eg as Qe,eh as w,ac as Me,S as Pe,bu as Or,g1 as _r,bF as Ar,eJ as Ur,g2 as Rr,eK as Lr,eN as Nr,eO as Fr,eP as Mr,eQ as zr,eR as Vr,eS as $r,eT as Br,eU as Wr,ag as Hr,eY as qr,g3 as Gr,g4 as Kr,e_ as Jr,f0 as Xr,f3 as Qr,eZ as Yr,g5 as Zr,g6 as eo,f1 as to,f2 as no,f4 as ro}from"./core-l0xde5f173.js";import{a6 as oo,a7 as ze,o as so,h as ao,i as io,j as gt,k as te,a8 as co,l as lo,d as Bn,I as uo,K as go,O as fo,q as an,Z as mo,_ as po,$ as ho,a0 as vo,a1 as yo,a2 as xo,a9 as bo,aa as wo,a4 as jo,Q as ko,V as So,R as Eo,ab as Co,ac as Io,X as Po,Y as Do,ad as To}from"./WorkspaceMembersPage-ecgs50g66o.js";import Oo from"./OrganizationBillingPage-onxlejhdkm.js";import{g as Wn,U as Hn,F as ft,O as _o}from"./OrganizationUsagePage-jhk4esk86w.js";import{AccountSettingsView as Ao}from"./AccountSettingsView-cqv9anl5h8.js";import{ApplicationSettingsView as Uo}from"./ApplicationSettingsView-gpnfd48vkv.js";import{C as Ro}from"./ClearFiltersButton-k6j6gzunsr.js";import{A as Lo}from"./AdvancedSettingsPage-fa9yeb8iun.js";import"./broadcast-channel-l0ip3onqp3.js";import"./generateCategoricalChart-onlym7d7s0.js";import"./sortBy-bqq7s6s2pj.js";import"./BarChart-f3594i61wf.js";import"./CartesianGrid-g4isyn7aoi.js";const No="DeployPreviewMessage-module__deployPreviewMessage__8094d5",Fo="DeployPreviewMessage-module__deployPreviewMessage__button__1010f9",cn={deployPreviewMessage:No,deployPreviewMessage__button:Fo};var An;const mt=((An=window.location.hostname.match(/deploy-preview-(\d+)/))==null?void 0:An[1])??null,Mo=()=>{const[e,t]=L.useState(!0);return mt?a.jsxs(W,{className:cn.deployPreviewMessage,alignItems:"stretch",gap:"none",children:[e&&a.jsx(Oe,{py:"sm",pl:"md",children:a.jsx(F,{id:"webapp.deploy-preview-message",values:{pullRequestNumber:mt,link:n=>a.jsx(Rt,{href:`https://github.com/airbytehq/airbyte-platform-internal/pull/${mt}`,children:n})}})}),a.jsx("button",{onClick:()=>t(n=>!n),className:cn.deployPreviewMessage__button,children:a.jsx(et,{type:e?"chevronLeft":"chevronUp"})})]}):null},qn={MAJOROUTAGE:{color:"hsl(335, 100%, 30%)",background:"hsl(350, 100%, 86%)"},PARTIALOUTAGE:{color:"hsl(11, 70%, 51%)",background:"hsl(11, 97%, 87%)"},DEGRADEDPERFORMANCE:{color:"hsl(27, 100%, 48%)",background:"hsl(48, 90%, 84%)"}},zo={UNDERMAINTENANCE:{color:"hsl(240, 12%, 40%)",background:"hsl(240, 12%, 92%)"}},Ye={contactFormShown:"Contact Form Shown",helpCenterShown:"Help Center Shown"},Re=({tagName:e,attributes:t,styles:n={}})=>{const r=document.createElement(e);return t&&Object.entries(t).forEach(([i,o])=>{i==="textContent"?r.textContent=o:r.setAttribute(i,o)}),n&&Object.assign(r.style,n),r},Vo=(e,t)=>{var n,r,i;return t===Ye.helpCenterShown?(n=e==null?void 0:e.querySelector("[data-embed='helpCenterForm']"))==null?void 0:n.firstChild:t===Ye.contactFormShown?(i=(r=e==null?void 0:e.querySelector("[data-embed='ticketSubmissionForm']"))==null?void 0:r.firstChild)==null?void 0:i.firstChild:null},$o=()=>Re({tagName:"span",attributes:{textContent:"Â·"},styles:{display:"inline-block",fontSize:"50px",lineHeight:"0.2",verticalAlign:"text-top",marginRight:"4px"}}),Bo=({message:e})=>{const t=$o(),n=Re({tagName:"p",styles:{margin:"0"}});return n.appendChild(t),n.appendChild(document.createTextNode(e)),n},Wo=({url:e,color:t})=>Re({tagName:"a",attributes:{target:"_blank",textContent:"Go to status page",href:e},styles:{color:t}}),Ho={MAJOROUTAGE:"There are ongoing incidents (major outage)",PARTIALOUTAGE:"There are ongoing incidents (partial outage)",DEGRADEDPERFORMANCE:"There are ongoing incidents (degraded performance)"},ln={MAJOROUTAGE:3,PARTIALOUTAGE:2,DEGRADEDPERFORMANCE:1},_e={up:"UP",hasIssues:"HASISSUES",underMaintenance:"UNDERMAINTENANCE"},qo=e=>e.reduce((t,n)=>{if(!t)return n;const r=ln[n.impact]||0,i=ln[t.impact]||0;return r>i?n:t},void 0),Go=async()=>{const e=await fetch("https://status.airbyte.com/summary.json");if(e.ok)return await e.json()},Ko=e=>oo(e).with({activeIncidents:ze.not(ze.nullish)},({activeIncidents:t})=>{const n=qo(t);return{status:_e.hasIssues,impact:n.impact,url:n.url,message:Ho[n.impact],styles:qn[n.impact]}}).with({activeMaintenances:ze.not(ze.nullish)},({activeMaintenances:t})=>({status:_e.underMaintenance,url:t[0].url,styles:zo.UNDERMAINTENANCE,message:"Some systems are under maintenance"})).otherwise(()=>({status:_e.up})),Jo=async({summary:e,action:t})=>{const n=Ko(e);if(n.status===_e.up)return;const r=document.getElementById("webWidget"),i=r==null?void 0:r.contentDocument,o=Vo(i,t),s=i==null?void 0:i.querySelector("header"),c=i==null?void 0:i.getElementById("cloud-status-message");if(o&&i&&s&&!c){const l=Re({tagName:"div",attributes:{id:"cloud-status-message"},styles:{margin:"auto",padding:"10px",textAlign:"center",alignItems:"center",justifyContent:"center",width:"100%",height:"auto",fontSize:"14px",background:n.styles.background,color:n.styles.color}}),u=Re({tagName:"div",styles:{textAlign:"center",color:n.styles.color}});if(u.appendChild(Bo({message:n.message})),l.appendChild(u),n.status===_e.hasIssues){const d=Wo({url:n.url,color:qn[n.impact].color});l.appendChild(d)}o.insertBefore(l,s)}},Xo=()=>({checkAndAddStatusMessage:L.useCallback(async t=>{const n=await Go();n&&Jo({summary:n,action:t})},[])}),Qo=({children:e})=>{const{zendeskKey:t}=Un(),{user:n}=Le(),r=Lt(),{checkAndAddStatusMessage:i}=Xo();return Je(()=>{if(t){const o=document.createElement("script");o.id="ze-snippet",o.onload=()=>{if(typeof window.zE=="function")try{window.zE("webWidget:on","userEvent",s=>{(s.action===Ye.helpCenterShown||s.action===Ye.contactFormShown)&&(console.log("Zendesk userEventAA:",s),i(s.action))})}catch{}else console.warn("Zendesk widget not available yet")},o.src=`https://static.zdassets.com/ekr/snippet.js?key=${t}`,document.body.appendChild(o)}}),L.useEffect(()=>{var o;try{(o=window.zE)==null||o.call(window,"webWidget","prefill",{name:{value:n==null?void 0:n.name},email:{value:n==null?void 0:n.email}})}catch{}},[n]),L.useEffect(()=>{var s;const o={webWidget:{contactForm:{ticketForms:[{id:"16332000182427"}],fields:[{id:"16334185233691",prefill:{"*":`https://cloud.airbyte.com/workspaces/${r}`}}]}}};try{window.zESettings=o,(s=window.zE)==null||s.call(window,"webWidget","updateSettings",o)}catch{}},[r]),a.jsx(a.Fragment,{children:e})},Yo=()=>{const[e]=Zn(),t=e.get("inviteCode"),n=er(t);return a.jsx(Se,{to:`/${$.Workspaces}/${(n==null?void 0:n.scopeType)==="workspace"?n==null?void 0:n.scopeId:""}`})},Zo=({children:e})=>(tr(),a.jsx(a.Fragment,{children:e}));function ve(e){function t(n,r){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.message=n,this.code=r}return t.prototype=new Error,t.prototype.name=e,t.prototype.constructor=t,t}const es=ve("LaunchDarklyUnexpectedResponseError"),ts=ve("LaunchDarklyInvalidEnvironmentIdError"),ns=ve("LaunchDarklyInvalidUserError"),rs=ve("LaunchDarklyInvalidEventKeyError"),os=ve("LaunchDarklyInvalidArgumentError"),ss=ve("LaunchDarklyFlagFetchError");for(var q={LDUnexpectedResponseError:es,LDInvalidEnvironmentIdError:ts,LDInvalidUserError:ns,LDInvalidEventKeyError:rs,LDInvalidArgumentError:os,LDInvalidDataError:ve("LaunchDarklyInvalidDataError"),LDFlagFetchError:ss,isHttpErrorRecoverable:function(e){return!(e>=400&&e<500)||e===400||e===408||e===429}},as=function(e){var t=un(e),n=t[0],r=t[1];return 3*(n+r)/4-r},is=function(e){var t,n,r=un(e),i=r[0],o=r[1],s=new ls(function(u,d,g){return 3*(d+g)/4-g}(0,i,o)),c=0,l=o>0?i-4:i;for(n=0;n<l;n+=4)t=se[e.charCodeAt(n)]<<18|se[e.charCodeAt(n+1)]<<12|se[e.charCodeAt(n+2)]<<6|se[e.charCodeAt(n+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;return o===2&&(t=se[e.charCodeAt(n)]<<2|se[e.charCodeAt(n+1)]>>4,s[c++]=255&t),o===1&&(t=se[e.charCodeAt(n)]<<10|se[e.charCodeAt(n+1)]<<4|se[e.charCodeAt(n+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t),s},cs=function(e){for(var t,n=e.length,r=n%3,i=[],o=16383,s=0,c=n-r;s<c;s+=o)i.push(ds(e,s,s+o>c?c:s+o));return r===1?(t=e[n-1],i.push(ue[t>>2]+ue[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(ue[t>>10]+ue[t>>4&63]+ue[t<<2&63]+"=")),i.join("")},ue=[],se=[],ls=typeof Uint8Array<"u"?Uint8Array:Array,pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",we=0,us=pt.length;we<us;++we)ue[we]=pt[we],se[pt.charCodeAt(we)]=we;function un(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return n===-1&&(n=t),[n,n===t?0:4-n%4]}function ds(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(ue[(i=r)>>18&63]+ue[i>>12&63]+ue[i>>6&63]+ue[63&i]);return o.join("")}se[45]=62,se[95]=63;var gs={byteLength:as,toByteArray:is,fromByteArray:cs},dn=Array.isArray,gn=Object.keys,fs=Object.prototype.hasOwnProperty,ms=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){var r,i,o,s=dn(t),c=dn(n);if(s&&c){if((i=t.length)!=n.length)return!1;for(r=i;r--!=0;)if(!e(t[r],n[r]))return!1;return!0}if(s!=c)return!1;var l=t instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return t.getTime()==n.getTime();var d=t instanceof RegExp,g=n instanceof RegExp;if(d!=g)return!1;if(d&&g)return t.toString()==n.toString();var p=gn(t);if((i=p.length)!==gn(n).length)return!1;for(r=i;r--!=0;)if(!fs.call(n,p[r]))return!1;for(r=i;r--!=0;)if(!e(t[o=p[r]],n[o]))return!1;return!0}return t!=t&&n!=n};const ps=["key","ip","country","email","firstName","lastName","avatar","name"];function Gn(e){const t=unescape(encodeURIComponent(e));return gs.fromByteArray(function(n){const r=[];for(let i=0;i<n.length;i++)r.push(n.charCodeAt(i));return r}(t))}function fn(e){return Gn(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var vt,C={appendUrlPath:function(e,t){return(e.endsWith("/")?e.substring(0,e.length-1):e)+(t.startsWith("/")?"":"/")+t},base64URLEncode:fn,btoa:Gn,chunkEventsForUrl:function(e,t){const n=t.slice(0),r=[];let i,o=e;for(;n.length>0;){for(i=[];o>0;){const s=n.shift();if(!s)break;o-=fn(JSON.stringify(s)).length,o<0&&i.length>0?n.unshift(s):i.push(s)}o=e,r.push(i)}return r},clone:function(e){return JSON.parse(JSON.stringify(e))},deepEquals:function(e,t){return ms(e,t)},extend:function(...e){return e.reduce((t,n)=>({...t,...n}),{})},getLDUserAgentString:function(e){const t=e.version||"?";return e.userAgent+"/"+t},objectHasOwnProperty:ht,onNextTick:function(e){setTimeout(e,0)},sanitizeContext:function(e){if(!e)return e;let t;return e.kind!==null&&e.kind!==void 0||ps.forEach(n=>{const r=e[n];r!==void 0&&typeof r!="string"&&(t=t||{...e},t[n]=String(r))}),t||e},transformValuesToVersionedValues:function(e){const t={};for(const n in e)ht(e,n)&&(t[n]={value:e[n],version:0});return t},transformVersionedValuesToValues:function(e){const t={};for(const n in e)ht(e,n)&&(t[n]=e[n].value);return t},wrapPromiseCallback:function(e,t){const n=e.then(r=>(t&&setTimeout(()=>{t(null,r)},0),r),r=>{if(!t)return Promise.reject(r);setTimeout(()=>{t(r,null)},0)});return t?void 0:n}},hs=new Uint8Array(16);function mn(){if(!vt&&!(vt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vt(hs)}var vs=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ze(e){return typeof e=="string"&&vs.test(e)}for(var pn,yt,J=[],xt=0;xt<256;++xt)J.push((xt+256).toString(16).substr(1));function Ke(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(J[e[t+0]]+J[e[t+1]]+J[e[t+2]]+J[e[t+3]]+"-"+J[e[t+4]]+J[e[t+5]]+"-"+J[e[t+6]]+J[e[t+7]]+"-"+J[e[t+8]]+J[e[t+9]]+"-"+J[e[t+10]]+J[e[t+11]]+J[e[t+12]]+J[e[t+13]]+J[e[t+14]]+J[e[t+15]]).toLowerCase();if(!Ze(n))throw TypeError("Stringified UUID is invalid");return n}var bt=0,wt=0;function Kn(e){if(!Ze(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function Jn(e,t,n){function r(i,o,s,c){if(typeof i=="string"&&(i=function(d){d=unescape(encodeURIComponent(d));for(var g=[],p=0;p<d.length;++p)g.push(d.charCodeAt(p));return g}(i)),typeof o=="string"&&(o=Kn(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),(l=n(l))[6]=15&l[6]|t,l[8]=63&l[8]|128,s){c=c||0;for(var u=0;u<16;++u)s[c+u]=l[u];return s}return Ke(l)}try{r.name=e}catch{}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function hn(e){return 14+(e+64>>>9<<4)+1}function ge(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function nt(e,t,n,r,i,o){return ge((s=ge(ge(t,e),ge(r,o)))<<(c=i)|s>>>32-c,n);var s,c}function X(e,t,n,r,i,o,s){return nt(t&n|~t&r,e,t,i,o,s)}function Q(e,t,n,r,i,o,s){return nt(t&r|n&~r,e,t,i,o,s)}function Y(e,t,n,r,i,o,s){return nt(t^n^r,e,t,i,o,s)}function Z(e,t,n,r,i,o,s){return nt(n^(t|~r),e,t,i,o,s)}var ys=Jn("v3",48,function(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(r){for(var i=[],o=32*r.length,s="0123456789abcdef",c=0;c<o;c+=8){var l=r[c>>5]>>>c%32&255,u=parseInt(s.charAt(l>>>4&15)+s.charAt(15&l),16);i.push(u)}return i}(function(r,i){r[i>>5]|=128<<i%32,r[hn(i)-1]=i;for(var o=1732584193,s=-271733879,c=-1732584194,l=271733878,u=0;u<r.length;u+=16){var d=o,g=s,p=c,m=l;o=X(o,s,c,l,r[u],7,-680876936),l=X(l,o,s,c,r[u+1],12,-389564586),c=X(c,l,o,s,r[u+2],17,606105819),s=X(s,c,l,o,r[u+3],22,-1044525330),o=X(o,s,c,l,r[u+4],7,-176418897),l=X(l,o,s,c,r[u+5],12,1200080426),c=X(c,l,o,s,r[u+6],17,-1473231341),s=X(s,c,l,o,r[u+7],22,-45705983),o=X(o,s,c,l,r[u+8],7,1770035416),l=X(l,o,s,c,r[u+9],12,-1958414417),c=X(c,l,o,s,r[u+10],17,-42063),s=X(s,c,l,o,r[u+11],22,-1990404162),o=X(o,s,c,l,r[u+12],7,1804603682),l=X(l,o,s,c,r[u+13],12,-40341101),c=X(c,l,o,s,r[u+14],17,-1502002290),o=Q(o,s=X(s,c,l,o,r[u+15],22,1236535329),c,l,r[u+1],5,-165796510),l=Q(l,o,s,c,r[u+6],9,-1069501632),c=Q(c,l,o,s,r[u+11],14,643717713),s=Q(s,c,l,o,r[u],20,-373897302),o=Q(o,s,c,l,r[u+5],5,-701558691),l=Q(l,o,s,c,r[u+10],9,38016083),c=Q(c,l,o,s,r[u+15],14,-660478335),s=Q(s,c,l,o,r[u+4],20,-405537848),o=Q(o,s,c,l,r[u+9],5,568446438),l=Q(l,o,s,c,r[u+14],9,-1019803690),c=Q(c,l,o,s,r[u+3],14,-187363961),s=Q(s,c,l,o,r[u+8],20,1163531501),o=Q(o,s,c,l,r[u+13],5,-1444681467),l=Q(l,o,s,c,r[u+2],9,-51403784),c=Q(c,l,o,s,r[u+7],14,1735328473),o=Y(o,s=Q(s,c,l,o,r[u+12],20,-1926607734),c,l,r[u+5],4,-378558),l=Y(l,o,s,c,r[u+8],11,-2022574463),c=Y(c,l,o,s,r[u+11],16,1839030562),s=Y(s,c,l,o,r[u+14],23,-35309556),o=Y(o,s,c,l,r[u+1],4,-1530992060),l=Y(l,o,s,c,r[u+4],11,1272893353),c=Y(c,l,o,s,r[u+7],16,-155497632),s=Y(s,c,l,o,r[u+10],23,-1094730640),o=Y(o,s,c,l,r[u+13],4,681279174),l=Y(l,o,s,c,r[u],11,-358537222),c=Y(c,l,o,s,r[u+3],16,-722521979),s=Y(s,c,l,o,r[u+6],23,76029189),o=Y(o,s,c,l,r[u+9],4,-640364487),l=Y(l,o,s,c,r[u+12],11,-421815835),c=Y(c,l,o,s,r[u+15],16,530742520),o=Z(o,s=Y(s,c,l,o,r[u+2],23,-995338651),c,l,r[u],6,-198630844),l=Z(l,o,s,c,r[u+7],10,1126891415),c=Z(c,l,o,s,r[u+14],15,-1416354905),s=Z(s,c,l,o,r[u+5],21,-57434055),o=Z(o,s,c,l,r[u+12],6,1700485571),l=Z(l,o,s,c,r[u+3],10,-1894986606),c=Z(c,l,o,s,r[u+10],15,-1051523),s=Z(s,c,l,o,r[u+1],21,-2054922799),o=Z(o,s,c,l,r[u+8],6,1873313359),l=Z(l,o,s,c,r[u+15],10,-30611744),c=Z(c,l,o,s,r[u+6],15,-1560198380),s=Z(s,c,l,o,r[u+13],21,1309151649),o=Z(o,s,c,l,r[u+4],6,-145523070),l=Z(l,o,s,c,r[u+11],10,-1120210379),c=Z(c,l,o,s,r[u+2],15,718787259),s=Z(s,c,l,o,r[u+9],21,-343485551),o=ge(o,d),s=ge(s,g),c=ge(c,p),l=ge(l,m)}return[o,s,c,l]}(function(r){if(r.length===0)return[];for(var i=8*r.length,o=new Uint32Array(hn(i)),s=0;s<i;s+=8)o[s>>5]|=(255&r[s/8])<<s%32;return o}(e),8*e.length))}),xs=ys;function bs(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function jt(e,t){return e<<t|e>>>32-t}var ws=Jn("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),c=new Array(s),l=0;l<s;++l){for(var u=new Uint32Array(16),d=0;d<16;++d)u[d]=e[64*l+4*d]<<24|e[64*l+4*d+1]<<16|e[64*l+4*d+2]<<8|e[64*l+4*d+3];c[l]=u}c[s-1][14]=8*(e.length-1)/Math.pow(2,32),c[s-1][14]=Math.floor(c[s-1][14]),c[s-1][15]=8*(e.length-1)&4294967295;for(var g=0;g<s;++g){for(var p=new Uint32Array(80),m=0;m<16;++m)p[m]=c[g][m];for(var v=16;v<80;++v)p[v]=jt(p[v-3]^p[v-8]^p[v-14]^p[v-16],1);for(var j=n[0],T=n[1],x=n[2],b=n[3],I=n[4],O=0;O<80;++O){var S=Math.floor(O/20),B=jt(j,5)+bs(S,T,x,b)+I+t[S]+p[O]>>>0;I=b,b=x,x=jt(T,30)>>>0,T=j,j=B}n[0]=n[0]+j>>>0,n[1]=n[1]+T>>>0,n[2]=n[2]+x>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+I>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}),js=ws,Wt=Object.freeze({__proto__:null,v1:function(e,t,n){var r=t&&n||0,i=t||new Array(16),o=(e=e||{}).node||pn,s=e.clockseq!==void 0?e.clockseq:yt;if(o==null||s==null){var c=e.random||(e.rng||mn)();o==null&&(o=pn=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),s==null&&(s=yt=16383&(c[6]<<8|c[7]))}var l=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:wt+1,d=l-bt+(u-wt)/1e4;if(d<0&&e.clockseq===void 0&&(s=s+1&16383),(d<0||l>bt)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");bt=l,wt=u,yt=s;var g=(1e4*(268435455&(l+=122192928e5))+u)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=255&g;var p=l/4294967296*1e4&268435455;i[r++]=p>>>8&255,i[r++]=255&p,i[r++]=p>>>24&15|16,i[r++]=p>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var m=0;m<6;++m)i[r+m]=o[m];return t||Ke(i)},v3:xs,v4:function(e,t,n){var r=(e=e||{}).random||(e.rng||mn)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Ke(r)},v5:js,NIL:"00000000-0000-0000-0000-000000000000",version:function(e){if(!Ze(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)},validate:Ze,stringify:Ke,parse:Kn});const De=["debug","info","warn","error","none"];var Ht={commonBasicLogger:function(e,t){if(e&&e.destination&&typeof e.destination!="function")throw new Error("destination for basicLogger was set to a non-function");function n(u){return function(d){console&&console[u]&&console[u].call(console,d)}}const r=e&&e.destination?[e.destination,e.destination,e.destination,e.destination]:[n("log"),n("info"),n("warn"),n("error")],i=!(!e||!e.destination),o=e&&e.prefix!==void 0&&e.prefix!==null?e.prefix:"[LaunchDarkly] ";let s=1;if(e&&e.level)for(let u=0;u<De.length;u++)De[u]===e.level&&(s=u);function c(u,d,g){if(g.length<1)return;let p;const m=i?d+": "+o:o;if(g.length!==1&&t){const v=[...g];v[0]=m+v[0],p=t(...v)}else p=m+g[0];try{r[u](p)}catch(v){console&&console.log&&console.log("[LaunchDarkly] Configured logger's "+d+" method threw an exception: "+v)}}const l={};for(let u=0;u<De.length;u++){const d=De[u];if(d!=="none")if(u<s)l[d]=()=>{};else{const g=u;l[d]=function(){c(g,d,arguments)}}}return l},validateLogger:function(e){De.forEach(t=>{if(t!=="none"&&(!e[t]||typeof e[t]!="function"))throw new Error("Provided logger instance must support logger."+t+"(...) method")})}};function Ve(e){return e&&e.message?e.message:typeof e=="string"||e instanceof String?e:JSON.stringify(e)}const je=" Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initializing-the-client for instructions on SDK initialization.";var E={bootstrapInvalid:function(){return"LaunchDarkly bootstrap data is not available because the back end could not read the flags."},bootstrapOldFormat:function(){return"LaunchDarkly client was initialized with bootstrap data that did not include flag metadata. Events may not be sent correctly."+je},clientInitialized:function(){return"LaunchDarkly client initialized"},clientNotReady:function(){return"LaunchDarkly client is not ready"},debugEnqueueingEvent:function(e){return'enqueueing "'+e+'" event'},debugPostingDiagnosticEvent:function(e){return"sending diagnostic event ("+e.kind+")"},debugPostingEvents:function(e){return"sending "+e+" events"},debugStreamDelete:function(e){return'received streaming deletion for flag "'+e+'"'},debugStreamDeleteIgnored:function(e){return'received streaming deletion for flag "'+e+'" but ignored due to version check'},debugStreamPatch:function(e){return'received streaming update for flag "'+e+'"'},debugStreamPatchIgnored:function(e){return'received streaming update for flag "'+e+'" but ignored due to version check'},debugStreamPing:function(){return"received ping message from stream"},debugPolling:function(e){return"polling for feature flags at "+e},debugStreamPut:function(){return"received streaming update for all flags"},deprecated:function(e,t){return t?'"'+e+'" is deprecated, please use "'+t+'"':'"'+e+'" is deprecated'},environmentNotFound:function(){return"Environment not found. Double check that you specified a valid environment/client-side ID."+je},environmentNotSpecified:function(){return"No environment/client-side ID was specified."+je},errorFetchingFlags:function(e){return"Error fetching flag settings: "+Ve(e)},eventCapacityExceeded:function(){return"Exceeded event queue capacity. Increase capacity to avoid dropping events."},eventWithoutContext:function(){return"Be sure to call `identify` in the LaunchDarkly client: https://docs.launchdarkly.com/sdk/features/identify#javascript"},httpErrorMessage:function(e,t,n){return"Received error "+e+(e===401?" (invalid SDK key)":"")+" for "+t+" - "+(q.isHttpErrorRecoverable(e)?n:"giving up permanently")},httpUnavailable:function(){return"Cannot make HTTP requests in this environment."+je},identifyDisabled:function(){return"identify() has no effect here; it must be called on the main client instance"},inspectorMethodError:(e,t)=>`an inspector: "${t}" of type: "${e}" generated an exception`,invalidContentType:function(e){return'Expected application/json content type but got "'+e+'"'},invalidData:function(){return"Invalid data received from LaunchDarkly; connection may have been interrupted"},invalidInspector:(e,t)=>`an inspector: "${t}" of an invalid type (${e}) was configured`,invalidKey:function(){return"Event key must be a string"},invalidContext:function(){return"Invalid context specified."+je},invalidTagValue:e=>`Config option "${e}" must only contain letters, numbers, ., _ or -.`,localStorageUnavailable:function(e){return"local storage is unavailable: "+Ve(e)},networkError:e=>"network error"+(e?" ("+e+")":""),optionBelowMinimum:(e,t,n)=>'Config option "'+e+'" was set to '+t+", changing to minimum value of "+n,streamClosing:function(){return"Closing stream connection"},streamConnecting:function(e){return"Opening stream connection to "+e},streamError:function(e,t){return"Error on stream connection: "+Ve(e)+", will continue retrying after "+t+" milliseconds."},tagValueTooLong:e=>`Value of "${e}" was longer than 64 characters and was discarded.`,unknownCustomEventKey:function(e){return'Custom event "'+e+'" does not exist'},unknownOption:e=>'Ignoring unknown config option "'+e+'"',contextNotSpecified:function(){return"No context specified."+je},unrecoverableStreamError:e=>`Error on stream connection ${Ve(e)}, giving up permanently`,wrongOptionType:(e,t,n)=>'Config option "'+e+'" should be of type '+t+", got "+n+", using default value",wrongOptionTypeBoolean:(e,t)=>'Config option "'+e+'" should be a boolean, got '+t+", converting to boolean"};const{validateLogger:ks}=Ht,vn={baseUrl:{default:"https://app.launchdarkly.com"},streamUrl:{default:"https://clientstream.launchdarkly.com"},eventsUrl:{default:"https://events.launchdarkly.com"},sendEvents:{default:!0},streaming:{type:"boolean"},sendLDHeaders:{default:!0},requestHeaderTransform:{type:"function"},sendEventsOnlyForVariation:{default:!1},useReport:{default:!1},evaluationReasons:{default:!1},eventCapacity:{default:100,minimum:1},flushInterval:{default:2e3,minimum:2e3},samplingInterval:{default:0,minimum:0},streamReconnectDelay:{default:1e3,minimum:0},allAttributesPrivate:{default:!1},privateAttributes:{default:[]},bootstrap:{type:"string|object"},diagnosticRecordingInterval:{default:9e5,minimum:2e3},diagnosticOptOut:{default:!1},wrapperName:{type:"string"},wrapperVersion:{type:"string"},stateProvider:{type:"object"},application:{validator:function(e,t,n){const r={};return t.id&&(r.id=yn(`${e}.id`,t.id,n)),t.version&&(r.version=yn(`${e}.version`,t.version,n)),r}},inspectors:{default:[]}},Ss=/^(\w|\.|-)+$/;function kt(e){return e==null?void 0:e.replace(/\/+$/,"")}function yn(e,t,n){if(typeof t=="string"&&t.match(Ss)){if(!(t.length>64))return t;n.warn(E.tagValueTooLong(e))}else n.warn(E.invalidTagValue(e))}var qt={baseOptionDefs:vn,validate:function(e,t,n,r){const i=C.extend({logger:{default:r}},vn,n),o={};function s(l){C.onNextTick(()=>{t&&t.maybeReportError(new q.LDInvalidArgumentError(l))})}let c=C.extend({},e||{});return function(l){const u=l;Object.keys(o).forEach(d=>{if(u[d]!==void 0){const g=o[d];r&&r.warn(E.deprecated(d,g)),g&&(u[g]===void 0&&(u[g]=u[d]),delete u[d])}})}(c),c=function(l){const u=C.extend({},l);return Object.keys(i).forEach(d=>{u[d]!==void 0&&u[d]!==null||(u[d]=i[d]&&i[d].default)}),u}(c),c=function(l){const u=C.extend({},l),d=g=>{if(g===null)return"any";if(g===void 0)return;if(Array.isArray(g))return"array";const p=typeof g;return p==="boolean"||p==="string"||p==="number"||p==="function"?p:"object"};return Object.keys(l).forEach(g=>{const p=l[g];if(p!=null){const m=i[g];if(m===void 0)s(E.unknownOption(g));else{const v=m.type||d(m.default),j=m.validator;if(j){const T=j(g,l[g],r);T!==void 0?u[g]=T:delete u[g]}else if(v!=="any"){const T=v.split("|"),x=d(p);T.indexOf(x)<0?v==="boolean"?(u[g]=!!p,s(E.wrongOptionTypeBoolean(g,x))):(s(E.wrongOptionType(g,v,x)),u[g]=m.default):x==="number"&&m.minimum!==void 0&&p<m.minimum&&(s(E.optionBelowMinimum(g,p,m.minimum)),u[g]=m.minimum)}}}}),u.baseUrl=kt(u.baseUrl),u.streamUrl=kt(u.streamUrl),u.eventsUrl=kt(u.eventsUrl),u}(c),ks(c.logger),c},getTags:function(e){const t={};return e&&(e.application&&e.application.id!==void 0&&e.application.id!==null&&(t["application-id"]=[e.application.id]),e.application&&e.application.version!==void 0&&e.application.id!==null&&(t["application-version"]=[e.application.version])),t}};const{getLDUserAgentString:Es}=C;var Gt={getLDHeaders:function(e,t){if(t&&!t.sendLDHeaders)return{};const n={};n[e.userAgentHeaderName||"User-Agent"]=Es(e),t&&t.wrapperName&&(n["X-LaunchDarkly-Wrapper"]=t.wrapperVersion?t.wrapperName+"/"+t.wrapperVersion:t.wrapperName);const r=qt.getTags(t),i=Object.keys(r);return i.length&&(n["x-launchdarkly-tags"]=i.sort().map(o=>Array.isArray(r[o])?r[o].sort().map(s=>`${o}/${s}`):[`${o}/${r[o]}`]).reduce((o,s)=>o.concat(s),[]).join(" ")),n},transformHeaders:function(e,t){return t&&t.requestHeaderTransform?t.requestHeaderTransform({...e}):e}};const{v1:Cs}=Wt,{getLDHeaders:Is,transformHeaders:Ps}=Gt;var Xn=function(e,t,n){const r="/a/"+t+".gif",i=C.extend({"Content-Type":"application/json"},Is(e,n)),o=e.httpFallbackPing,s={};return s.sendChunk=(c,l,u,d)=>{const g=JSON.stringify(c),p=u?null:Cs();return d?function m(v){const j=u?i:C.extend({},i,{"X-LaunchDarkly-Event-Schema":"4","X-LaunchDarkly-Payload-ID":p});return e.httpRequest("POST",l,Ps(j,n),g).promise.then(T=>{if(T)return T.status>=400&&q.isHttpErrorRecoverable(T.status)&&v?m(!1):function(x){const b={status:x.status},I=x.header("date");if(I){const O=Date.parse(I);O&&(b.serverTime=O)}return b}(T)}).catch(()=>v?m(!1):Promise.reject())}(!0).catch(()=>{}):(o&&o(l+r+"?d="+C.base64URLEncode(g)),Promise.resolve())},s.sendEvents=function(c,l,u){if(!e.httpRequest)return Promise.resolve();const d=e.httpAllowsPost();let g;g=d?[c]:C.chunkEventsForUrl(2e3-l.length,c);const p=[];for(let m=0;m<g.length;m++)p.push(s.sendChunk(g[m],l,u,d));return Promise.all(p)},s};const{commonBasicLogger:Ds}=Ht;function xn(e){return typeof e=="string"&&e!=="kind"&&e.match(/^(\w|\.|-)+$/)}var rt={checkContext:function(e,t){if(e){if(t&&(e.kind===void 0||e.kind===null))return e.key!==void 0&&e.key!==null;const n=e.key,r=e.kind===void 0?"user":e.kind,i=xn(r),o=r==="multi"||n!=null&&n!=="";if(r==="multi"){const s=Object.keys(e).filter(c=>c!=="kind");return o&&s.every(c=>xn(c))&&s.every(c=>{const l=e[c].key;return l!=null&&l!==""})}return o&&i}return!1},getContextKeys:function(e,t=Ds()){if(!e)return;const n={},{kind:r,key:i}=e;switch(r){case void 0:n.user=`${i}`;break;case"multi":Object.entries(e).filter(([o])=>o!=="kind").forEach(([o,s])=>{s!=null&&s.key&&(n[o]=s.key)});break;case null:t.warn(`null is not a valid context kind: ${e}`);break;case"":t.warn(`'' is not a valid context kind: ${e}`);break;default:n[r]=`${i}`}return n},getContextKinds:function(e){return e?e.kind===null||e.kind===void 0?["user"]:e.kind!=="multi"?[e.kind]:Object.keys(e).filter(t=>t!=="kind"):[]}};const{getContextKinds:Ts}=rt;var Os=function(){const e={};let t=0,n=0,r={},i={};return e.summarizeEvent=o=>{if(o.kind==="feature"){const s=o.key+":"+(o.variation!==null&&o.variation!==void 0?o.variation:"")+":"+(o.version!==null&&o.version!==void 0?o.version:""),c=r[s];let l=i[o.key];l||(l=new Set,i[o.key]=l),function(u){return u.context?Ts(u.context):u.contextKeys?Object.keys(u.contextKeys):[]}(o).forEach(u=>l.add(u)),c?c.count=c.count+1:r[s]={count:1,key:o.key,version:o.version,variation:o.variation,value:o.value,default:o.default},(t===0||o.creationDate<t)&&(t=o.creationDate),o.creationDate>n&&(n=o.creationDate)}},e.getSummary=()=>{const o={};let s=!0;for(const c of Object.values(r)){let l=o[c.key];l||(l={default:c.default,counters:[],contextKinds:[...i[c.key]]},o[c.key]=l);const u={value:c.value,count:c.count};c.variation!==void 0&&c.variation!==null&&(u.variation=c.variation),c.version!==void 0&&c.version!==null?u.version=c.version:u.unknown=!0,l.counters.push(u),s=!1}return s?null:{startDate:t,endDate:n,features:o}},e.clearSummary=()=>{t=0,n=0,r={},i={}},e};function Qn(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function bn(e){return(e.startsWith("/")?e.substring(1):e).split("/").map(t=>t.indexOf("~")>=0?t.replace(/~1/g,"/").replace(/~0/g,"~"):t)}function wn(e){return!e.startsWith("/")}function jn(e,t){const n=wn(e),r=wn(t);if(n&&r)return e===t;if(n){const i=bn(t);return i.length===1&&e===i[0]}if(r){const i=bn(e);return i.length===1&&t===i[0]}return e===t}function kn(e){return`/${Qn(e)}`}var St={cloneExcluding:function(e,t){const n=[],r={},i=[];for(n.push(...Object.keys(e).map(o=>({key:o,ptr:kn(o),source:e,parent:r,visited:[e]})));n.length;){const o=n.pop();if(t.some(s=>jn(s,o.ptr)))i.push(o.ptr);else{const s=o.source[o.key];if(s===null)o.parent[o.key]=s;else if(Array.isArray(s))o.parent[o.key]=[...s];else if(typeof s=="object"){if(o.visited.includes(s))continue;o.parent[o.key]={},n.push(...Object.keys(s).map(c=>{return{key:c,ptr:(l=o.ptr,u=Qn(c),`${l}/${u}`),source:s,parent:o.parent[o.key],visited:[...o.visited,s]};var l,u}))}else o.parent[o.key]=s}}return{cloned:r,excluded:i.sort()}},compare:jn,literalToReference:kn},_s=function(e){const t={},n=e.allAttributesPrivate,r=e.privateAttributes||[],i=["key","kind","_meta","anonymous"],o=["name","ip","firstName","lastName","email","avatar","country"],s=c=>{if(typeof c!="object"||c===null||Array.isArray(c))return;const{cloned:l,excluded:u}=St.cloneExcluding(c,(d=>(n?Object.keys(d):[...r,...d._meta&&d._meta.privateAttributes||[]]).filter(g=>!i.some(p=>St.compare(g,p))))(c));return l.key=String(l.key),u.length&&(l._meta||(l._meta={}),l._meta.redactedAttributes=u),l._meta&&(delete l._meta.privateAttributes,Object.keys(l._meta).length===0&&delete l._meta),l.anonymous!==void 0&&(l.anonymous=!!l.anonymous),l};return t.filter=c=>c.kind===void 0||c.kind===null?s((l=>{const u={...l.custom||{},kind:"user",key:l.key};l.anonymous!==void 0&&(u.anonymous=!!l.anonymous);for(const d of o)delete u[d],l[d]!==void 0&&l[d]!==null&&(u[d]=String(l[d]));return l.privateAttributeNames!==void 0&&l.privateAttributeNames!==null&&(u._meta=u._meta||{},u._meta.privateAttributes=l.privateAttributeNames.map(d=>d.startsWith("/")?St.literalToReference(d):d)),u})(c)):c.kind==="multi"?(l=>{const u={kind:l.kind},d=Object.keys(l);for(const g of d)if(g!=="kind"){const p=s(l[g]);p&&(u[g]=p)}return u})(c):s(c),t};const{getContextKeys:As}=rt;var Us=function(e,t,n,r=null,i=null,o=null){const s={},c=o||Xn(e,n,t),l=C.appendUrlPath(t.eventsUrl,"/events/bulk/"+n),u=Os(),d=_s(t),g=t.samplingInterval,p=t.eventCapacity,m=t.flushInterval,v=t.logger;let j,T=[],x=0,b=!1,I=!1;function O(){return g===0||Math.floor(Math.random()*g)===0}function S(P){const z=C.extend({},P);return P.kind==="identify"?z.context=d.filter(P.context):(z.contextKeys=As(P.context,v),delete z.context),P.kind==="feature"&&(delete z.trackEvents,delete z.debugEventsUntilDate),z}function B(P){T.length<p?(T.push(P),I=!1):(I||(I=!0,v.warn(E.eventCapacityExceeded())),r&&r.incrementDroppedEvents())}return s.enqueue=function(P){if(b)return;let z=!1,k=!1;var D;if(u.summarizeEvent(P),P.kind==="feature"?O()&&(z=!!P.trackEvents,k=!!(D=P).debugEventsUntilDate&&D.debugEventsUntilDate>x&&D.debugEventsUntilDate>new Date().getTime()):z=O(),z&&B(S(P)),k){const N=C.extend({},P,{kind:"debug"});N.context=d.filter(N.context),delete N.trackEvents,delete N.debugEventsUntilDate,B(N)}},s.flush=function(){if(b)return Promise.resolve();const P=T,z=u.getSummary();return u.clearSummary(),z&&(z.kind="summary",P.push(z)),r&&r.setEventsInLastBatch(P.length),P.length===0?Promise.resolve():(T=[],v.debug(E.debugPostingEvents(P.length)),c.sendEvents(P,l).then(k=>{const D=k&&k[0];D&&(D.serverTime&&(x=D.serverTime),q.isHttpErrorRecoverable(D.status)||(b=!0),D.status>=400&&C.onNextTick(()=>{i.maybeReportError(new q.LDUnexpectedResponseError(E.httpErrorMessage(D.status,"event posting","some events were dropped")))}))}))},s.start=function(){const P=()=>{s.flush(),j=setTimeout(P,m)};j=setTimeout(P,m)},s.stop=function(){clearTimeout(j)},s},Rs=function(e){const t={},n={};return t.on=function(r,i,o){n[r]=n[r]||[],n[r]=n[r].concat({handler:i,context:o})},t.off=function(r,i,o){if(n[r])for(let s=0;s<n[r].length;s++)n[r][s].handler===i&&n[r][s].context===o&&(n[r]=n[r].slice(0,s).concat(n[r].slice(s+1)))},t.emit=function(r){if(!n[r])return;const i=n[r].slice(0);for(let o=0;o<i.length;o++)i[o].handler.apply(i[o].context,Array.prototype.slice.call(arguments,1))},t.getEvents=function(){return Object.keys(n)},t.getEventListenerCount=function(r){return n[r]?n[r].length:0},t.maybeReportError=function(r){r&&(n.error?this.emit("error",r):(e||console).error(r.message))},t};const $e="ready",Et="initialized",Ct="failed";var Ls=function(e){let t=!1,n=!1,r=null,i=null;const o=new Promise(s=>{const c=()=>{e.off($e,c),s()};e.on($e,c)}).catch(()=>{});return{getInitializationPromise:()=>i||(t?Promise.resolve():n?Promise.reject(r):(i=new Promise((s,c)=>{const l=()=>{e.off(Et,l),s()},u=d=>{e.off(Ct,u),c(d)};e.on(Et,l),e.on(Ct,u)}),i)),getReadyPromise:()=>o,signalSuccess:()=>{t||n||(t=!0,e.emit(Et),e.emit($e))},signalFailure:s=>{t||n||(n=!0,r=s,e.emit(Ct,s),e.emit($e)),e.maybeReportError(s)}}},Ns=function(e,t,n,r){const i={};function o(){let s="";const c=r.getContext();return c&&(s=n||C.btoa(JSON.stringify(c))),"ld:"+t+":"+s}return i.loadFlags=()=>e.get(o()).then(s=>{if(s==null)return null;try{let c=JSON.parse(s);if(c){const l=c.$schema;l===void 0||l<1?c=C.transformValuesToVersionedValues(c):delete c.$schema}return c}catch{return i.clearFlags().then(()=>null)}}),i.saveFlags=s=>{const c=C.extend({},s,{$schema:1});return e.set(o(),JSON.stringify(c))},i.clearFlags=()=>e.clear(o()),i},Fs=function(e,t){const n={};let r=!1;const i=o=>{r||(r=!0,t.warn(E.localStorageUnavailable(o)))};return n.isEnabled=()=>!!e,n.get=o=>new Promise(s=>{e?e.get(o).then(s).catch(c=>{i(c),s(void 0)}):s(void 0)}),n.set=(o,s)=>new Promise(c=>{e?e.set(o,s).then(()=>c(!0)).catch(l=>{i(l),c(!1)}):c(!1)}),n.clear=o=>new Promise(s=>{e?e.clear(o).then(()=>s(!0)).catch(c=>{i(c),s(!1)}):s(!1)}),n};const{appendUrlPath:Sn,base64URLEncode:Ms,objectHasOwnProperty:zs}=C,{getLDHeaders:Vs,transformHeaders:$s}=Gt,{isHttpErrorRecoverable:Bs}=q;var Ws=function(e,t,n,r){const i=t.streamUrl,o=t.logger,s={},c=Sn(i,"/eval/"+n),l=t.useReport,u=t.evaluationReasons,d=t.streamReconnectDelay,g=Vs(e,t);let p,m=!1,v=null,j=null,T=null,x=null,b=null,I=0;function O(){const D=(N=function(){const G=d*Math.pow(2,I);return G>3e4?3e4:G}(),N-Math.trunc(.5*Math.random()*N));var N;return I+=1,D}function S(D){if(D.status&&typeof D.status=="number"&&!Bs(D.status))return z(),o.error(E.unrecoverableStreamError(D)),void(j&&(clearTimeout(j),j=null));const N=O();m||(o.warn(E.streamError(D,N)),m=!0),k(!1),z(),B(N)}function B(D){j||(D?j=setTimeout(P,D):P())}function P(){let D;j=null;let N="";const G={headers:g,readTimeoutMillis:3e5};if(e.eventSourceFactory){x!=null&&(N="h="+x),l?e.eventSourceAllowsReport?(D=c,G.method="REPORT",G.headers["Content-Type"]="application/json",G.body=JSON.stringify(T)):(D=Sn(i,"/ping/"+n),N=""):D=c+"/"+Ms(JSON.stringify(T)),G.headers=$s(G.headers,t),u&&(N=N+(N?"&":"")+"withReasons=true"),D=D+(N?"?":"")+N,z(),o.info(E.streamConnecting(D)),p=new Date().getTime(),v=e.eventSourceFactory(D,G);for(const ae in b)zs(b,ae)&&v.addEventListener(ae,b[ae]);v.onerror=S,v.onopen=()=>{I=0}}}function z(){v&&(o.info(E.streamClosing()),v.close(),v=null)}function k(D){p&&r&&r.recordStreamInit(p,!D,new Date().getTime()-p),p=null}return s.connect=function(D,N,G){T=D,x=N,b={};for(const ae in G||{})b[ae]=function(oe){m=!1,k(!0),G[ae]&&G[ae](oe)};B()},s.disconnect=function(){clearTimeout(j),j=null,z()},s.isConnected=function(){return!!(v&&e.eventSourceIsActive&&e.eventSourceIsActive(v))},s},Hs=function(e){let t,n,r,i;const o={addPromise:(s,c)=>{t=s,n&&n(),n=c,s.then(l=>{t===s&&(r(l),e&&e())},l=>{t===s&&(i(l),e&&e())})}};return o.resultPromise=new Promise((s,c)=>{r=s,i=c}),o};const{transformHeaders:qs,getLDHeaders:Gs}=Gt,It="application/json";var Ks=function(e,t,n){const r=t.baseUrl,i=t.useReport,o=t.evaluationReasons,s=t.logger,c={},l={};function u(d,g){if(!e.httpRequest)return new Promise((x,b)=>{b(new q.LDFlagFetchError(E.httpUnavailable()))});const p=g?"REPORT":"GET",m=Gs(e,t);g&&(m["Content-Type"]=It);let v=l[d];v||(v=Hs(()=>{delete l[d]}),l[d]=v);const j=e.httpRequest(p,d,qs(m,t),g),T=j.promise.then(x=>{if(x.status===200){if(x.header("content-type")&&x.header("content-type").substring(0,It.length)===It)return JSON.parse(x.body);{const b=E.invalidContentType(x.header("content-type")||"");return Promise.reject(new q.LDFlagFetchError(b))}}return Promise.reject(function(b){return b.status===404?new q.LDInvalidEnvironmentIdError(E.environmentNotFound()):new q.LDFlagFetchError(E.errorFetchingFlags(b.statusText||String(b.status)))}(x))},x=>Promise.reject(new q.LDFlagFetchError(E.networkError(x))));return v.addPromise(T,()=>{j.cancel&&j.cancel()}),v.resultPromise}return c.fetchJSON=function(d){return u(C.appendUrlPath(r,d),null)},c.fetchFlagSettings=function(d,g){let p,m,v,j="";return i?(m=[r,"/sdk/evalx/",n,"/context"].join(""),v=JSON.stringify(d)):(p=C.base64URLEncode(JSON.stringify(d)),m=[r,"/sdk/evalx/",n,"/contexts/",p].join("")),g&&(j="h="+g),o&&(j=j+(j?"&":"")+"withReasons=true"),m=m+(j?"?":"")+j,s.debug(E.debugPolling(m)),u(m,v)},c},Js=function(e,t){const n={};let r;return n.setContext=function(i){r=C.sanitizeContext(i),r&&t&&t(C.clone(r))},n.getContext=function(){return r?C.clone(r):null},n};const{v1:Xs}=Wt,{getContextKinds:Qs}=rt;var Ys=function(e){function t(r){return r==null||r==="user"?"ld:$anonUserId":`ld:$contextKey:${r}`}function n(r,i){return i.key!==null&&i.key!==void 0?(i.key=i.key.toString(),Promise.resolve(i)):i.anonymous?function(o){return e.get(t(o))}(r).then(o=>{if(o)return i.key=o,i;{const s=Xs();return i.key=s,function(c,l){return e.set(t(l),c)}(s,r).then(()=>i)}}):Promise.reject(new q.LDInvalidUserError(E.invalidContext()))}this.processContext=r=>{if(!r)return Promise.reject(new q.LDInvalidUserError(E.contextNotSpecified()));const i=C.clone(r);if(r.kind==="multi"){const o=Qs(i);return Promise.all(o.map(s=>n(s,i[s]))).then(()=>i)}return n(r.kind,i)}};const{v1:Zs}=Wt,{baseOptionDefs:Pt}=qt,{appendUrlPath:ea}=C;var Dt={DiagnosticId:function(e){const t={diagnosticId:Zs()};return e&&(t.sdkKeySuffix=e.length>6?e.substring(e.length-6):e),t},DiagnosticsAccumulator:function(e){let t,n,r,i;function o(s){t=s,n=0,r=0,i=[]}return o(e),{getProps:()=>({dataSinceDate:t,droppedEvents:n,eventsInLastBatch:r,streamInits:i}),setProps:s=>{t=s.dataSinceDate,n=s.droppedEvents||0,r=s.eventsInLastBatch||0,i=s.streamInits||[]},incrementDroppedEvents:()=>{n++},setEventsInLastBatch:s=>{r=s},recordStreamInit:(s,c,l)=>{const u={timestamp:s,failed:c,durationMillis:l};i.push(u)},reset:o}},DiagnosticsManager:function(e,t,n,r,i,o,s){const c=!!e.diagnosticUseCombinedEvent,l="ld:"+i+":$diagnostics",u=ea(o.eventsUrl,"/events/diagnostic/"+i),d=o.diagnosticRecordingInterval,g=n;let p,m,v=!!o.streaming;const j={};function T(){return{sdk:I(),configuration:O(),platform:e.diagnosticPlatformData}}function x(S){o.logger&&o.logger.debug(E.debugPostingDiagnosticEvent(S)),r.sendEvents(S,u,!0).then(()=>{}).catch(()=>{})}function b(){x(function(){const S=new Date().getTime();let B={kind:c?"diagnostic-combined":"diagnostic",id:s,creationDate:S,...g.getProps()};return c&&(B={...B,...T()}),g.reset(S),B}()),m=setTimeout(b,d),p=new Date().getTime(),c&&function(){if(t.isEnabled()){const S={...g.getProps()};t.set(l,JSON.stringify(S))}}()}function I(){const S={...e.diagnosticSdkData};return o.wrapperName&&(S.wrapperName=o.wrapperName),o.wrapperVersion&&(S.wrapperVersion=o.wrapperVersion),S}function O(){return{customBaseURI:o.baseUrl!==Pt.baseUrl.default,customStreamURI:o.streamUrl!==Pt.streamUrl.default,customEventsURI:o.eventsUrl!==Pt.eventsUrl.default,eventsCapacity:o.eventCapacity,eventsFlushIntervalMillis:o.flushInterval,reconnectTimeMillis:o.streamReconnectDelay,streamingDisabled:!v,allAttributesPrivate:!!o.allAttributesPrivate,diagnosticRecordingIntervalMillis:o.diagnosticRecordingInterval,usingSecureMode:!!o.hash,bootstrapMode:!!o.bootstrap,fetchGoalsDisabled:!o.fetchGoals,sendEventsOnlyForVariation:!!o.sendEventsOnlyForVariation}}return j.start=()=>{c?function(S){if(!t.isEnabled())return S(!1);t.get(l).then(B=>{if(B)try{const P=JSON.parse(B);g.setProps(P),p=P.dataSinceDate}catch{}S(!0)}).catch(()=>{S(!1)})}(S=>{if(S){const B=(p||0)+d,P=new Date().getTime();P>=B?b():m=setTimeout(b,B-P)}else Math.floor(4*Math.random())===0?b():m=setTimeout(b,d)}):(x({kind:"diagnostic-init",id:s,creationDate:g.getProps().dataSinceDate,...T()}),m=setTimeout(b,d))},j.stop=()=>{m&&clearTimeout(m)},j.setStreaming=S=>{v=S},j}},ta=function(e,t){let n=!1;const r={type:e.type,name:e.name,method:(...i)=>{try{e.method(...i)}catch{n||(n=!0,t.warn(E.inspectorMethodError(r.type,r.name)))}}};return r};const{onNextTick:Be}=C,ne={flagUsed:"flag-used",flagDetailsChanged:"flag-details-changed",flagDetailChanged:"flag-detail-changed",clientIdentityChanged:"client-identity-changed"};Object.freeze(ne);var na={InspectorTypes:ne,InspectorManager:function(e,t){const n={},r={[ne.flagUsed]:[],[ne.flagDetailsChanged]:[],[ne.flagDetailChanged]:[],[ne.clientIdentityChanged]:[]};return(e==null?void 0:e.map(o=>ta(o,t))).forEach(o=>{Object.prototype.hasOwnProperty.call(r,o.type)?r[o.type].push(o):t.warn(E.invalidInspector(o.type,o.name))}),n.hasListeners=o=>{var s;return(s=r[o])==null?void 0:s.length},n.onFlagUsed=(o,s,c)=>{r[ne.flagUsed].length&&Be(()=>{r[ne.flagUsed].forEach(l=>l.method(o,s,c))})},n.onFlags=o=>{r[ne.flagDetailsChanged].length&&Be(()=>{r[ne.flagDetailsChanged].forEach(s=>s.method(o))})},n.onFlagChanged=(o,s)=>{r[ne.flagDetailChanged].length&&Be(()=>{r[ne.flagDetailChanged].forEach(c=>c.method(o,s))})},n.onIdentityChanged=o=>{r[ne.clientIdentityChanged].length&&Be(()=>{r[ne.clientIdentityChanged].forEach(s=>s.method(o))})},n}};const{commonBasicLogger:ra}=Ht,{checkContext:oa,getContextKeys:sa}=rt,{InspectorTypes:We,InspectorManager:aa}=na,Te="change",En="internal-change";var Kt={initialize:function(e,t,n,r,i){const o=function(){return n&&n.logger?n.logger:i&&i.logger&&i.logger.default||ra("warn")}(),s=Rs(o),c=Ls(s),l=qt.validate(n,s,i,o),u=aa(l.inspectors,o),d=l.sendEvents;let g=e,p=l.hash;const m=Fs(r.localStorage,o),v=Xn(r,g,l),j=l.sendEvents&&!l.diagnosticOptOut,T=j?Dt.DiagnosticId(g):null,x=j?Dt.DiagnosticsAccumulator(new Date().getTime()):null,b=j?Dt.DiagnosticsManager(r,m,x,v,g,l,T):null,I=Ws(r,l,g,x),O=l.eventProcessor||Us(r,l,g,x,s,v),S=Ks(r,l,g);let B,P,z,k={},D=l.streaming,N=!1,G=!1,ae=!0;const oe=l.stateProvider,K=Js(null,function(f){(function(y){oe||y&&Ne({kind:"identify",context:y,creationDate:new Date().getTime()})})(f),u.hasListeners(We.clientIdentityChanged)&&u.onIdentityChanged(K.getContext())}),Xt=new Ys(m),ye=m.isEnabled()?Ns(m,g,p,K):null;function Ne(f){g&&(oe&&oe.enqueueEvent&&oe.enqueueEvent(f)||(f.context?(ae=!1,!d||G||r.isDoNotTrack()||(o.debug(E.debugEnqueueingEvent(f.kind)),O.enqueue(f))):ae&&(o.warn(E.eventWithoutContext()),ae=!1)))}function Qt(f,y){u.hasListeners(We.flagDetailChanged)&&u.onFlagChanged(f.key,xe(y))}function Yt(){u.hasListeners(We.flagDetailsChanged)&&u.onFlags(Object.entries(k).map(([f,y])=>({key:f,detail:xe(y)})).reduce((f,y)=>(f[y.key]=y.detail,f),{}))}function Zt(f,y,h,_){const U=K.getContext(),V=new Date,R={kind:"feature",key:f,context:U,value:y?y.value:null,variation:y?y.variationIndex:null,default:h,creationDate:V.getTime()},ee=k[f];ee&&(R.version=ee.flagVersion?ee.flagVersion:ee.version,R.trackEvents=ee.trackEvents,R.debugEventsUntilDate=ee.debugEventsUntilDate),(_||ee&&ee.trackReason)&&y&&(R.reason=y.reason),Ne(R)}function en(f){return oa(f,!1)?Promise.resolve(f):Promise.reject(new q.LDInvalidUserError(E.invalidContext()))}function ot(f,y,h,_,U){let V;if(k&&C.objectHasOwnProperty(k,f)&&k[f]&&!k[f].deleted){const R=k[f];V=xe(R),R.value!==null&&R.value!==void 0||(V.value=y)}else V={value:y,variationIndex:null,reason:{kind:"ERROR",errorKind:"FLAG_NOT_FOUND"}};return h&&Zt(f,V,y,_),U||function(R,ee){u.hasListeners(We.flagUsed)&&u.onFlagUsed(R,ee,K.getContext())}(f,V),V}function xe(f){return{value:f.value,variationIndex:f.variation===void 0?null:f.variation,reason:f.reason||null}}function tn(){if(P=!0,!K.getContext())return;const f=y=>{try{return JSON.parse(y)}catch{return void s.maybeReportError(new q.LDInvalidDataError(E.invalidData()))}};I.connect(K.getContext(),p,{ping:function(){o.debug(E.debugStreamPing());const y=K.getContext();S.fetchFlagSettings(y,p).then(h=>{C.deepEquals(y,K.getContext())&&be(h||{})}).catch(h=>{s.maybeReportError(new q.LDFlagFetchError(E.errorFetchingFlags(h)))})},put:function(y){const h=f(y.data);h&&(o.debug(E.debugStreamPut()),be(h))},patch:function(y){const h=f(y.data);if(!h)return;const _=k[h.key];if(!_||!_.version||!h.version||_.version<h.version){o.debug(E.debugStreamPatch(h.key));const U={},V=C.extend({},h);delete V.key,k[h.key]=V;const R=xe(V);U[h.key]=_?{previous:_.value,current:R}:{current:R},at(U),Qt(h,V)}else o.debug(E.debugStreamPatchIgnored(h.key))},delete:function(y){const h=f(y.data);if(h)if(!k[h.key]||k[h.key].version<h.version){o.debug(E.debugStreamDelete(h.key));const _={};k[h.key]&&!k[h.key].deleted&&(_[h.key]={previous:k[h.key].value}),k[h.key]={version:h.version,deleted:!0},Qt(h,k[h.key]),at(_)}else o.debug(E.debugStreamDeleteIgnored(h.key))}})}function st(){P&&(I.disconnect(),P=!1)}function be(f){const y={};if(!f)return Promise.resolve();for(const h in k)C.objectHasOwnProperty(k,h)&&k[h]&&(f[h]&&!C.deepEquals(f[h].value,k[h].value)?y[h]={previous:k[h].value,current:xe(f[h])}:f[h]&&!f[h].deleted||(y[h]={previous:k[h].value}));for(const h in f)C.objectHasOwnProperty(f,h)&&f[h]&&(!k[h]||k[h].deleted)&&(y[h]={current:xe(f[h])});return k={...f},Yt(),at(y).catch(()=>{})}function at(f){const y=Object.keys(f);if(y.length>0){const h={};y.forEach(_=>{const U=f[_].current,V=U?U.value:void 0,R=f[_].previous;s.emit(Te+":"+_,V,R),h[_]=U?{current:V,previous:R}:{previous:R}}),s.emit(Te,h),s.emit(En,k),l.sendEventsOnlyForVariation||oe||y.forEach(_=>{Zt(_,f[_].current)})}return B&&ye?ye.saveFlags(k):Promise.resolve()}function it(){const f=D||z&&D===void 0;f&&!P?tn():!f&&P&&st(),b&&b.setStreaming(f)}function ct(f){return f===Te||f.substr(0,Te.length+1)===Te+":"}if(typeof l.bootstrap=="string"&&l.bootstrap.toUpperCase()==="LOCALSTORAGE"&&(ye?B=!0:o.warn(E.localStorageUnavailable())),typeof l.bootstrap=="object"&&(k=function(f){const y=Object.keys(f),h="$flagsState",_="$valid",U=f[h];!U&&y.length&&o.warn(E.bootstrapOldFormat()),f[_]===!1&&o.warn(E.bootstrapInvalid());const V={};return y.forEach(R=>{if(R!==h&&R!==_){let ee={value:f[R]};U&&U[R]?ee=C.extend(ee,U[R]):ee.version=0,V[R]=ee}}),V}(l.bootstrap)),oe){const f=oe.getInitialState();f?nn(f):oe.on("init",nn),oe.on("update",function(y){y.context&&K.setContext(y.context),y.flags&&be(y.flags)})}else(function(){return e?Xt.processContext(t).then(en).then(f=>(K.setContext(f),typeof l.bootstrap=="object"?Ce():B?ye.loadFlags().then(y=>y==null?(k={},S.fetchFlagSettings(K.getContext(),p).then(h=>be(h||{})).then(Ce).catch(h=>{lt(new q.LDFlagFetchError(E.errorFetchingFlags(h)))})):(k=y,C.onNextTick(Ce),S.fetchFlagSettings(K.getContext(),p).then(h=>be(h)).catch(h=>s.maybeReportError(h)))):S.fetchFlagSettings(K.getContext(),p).then(y=>{k=y||{},Yt(),Ce()}).catch(y=>{k={},lt(y)}))):Promise.reject(new q.LDInvalidEnvironmentIdError(E.environmentNotSpecified()))})().catch(lt);function nn(f){g=f.environment,K.setContext(f.context),k={...f.flags},C.onNextTick(Ce)}function Ce(){o.info(E.clientInitialized()),N=!0,it(),c.signalSuccess()}function lt(f){c.signalFailure(f)}return{client:{waitForInitialization:()=>c.getInitializationPromise(),waitUntilReady:()=>c.getReadyPromise(),identify:function(f,y,h){if(G)return C.wrapPromiseCallback(Promise.resolve({}),h);if(oe)return o.warn(E.identifyDisabled()),C.wrapPromiseCallback(Promise.resolve(C.transformVersionedValuesToValues(k)),h);const _=B&&ye?ye.clearFlags():Promise.resolve();return C.wrapPromiseCallback(_.then(()=>Xt.processContext(f)).then(en).then(U=>S.fetchFlagSettings(U,y).then(V=>{const R=C.transformVersionedValuesToValues(V);return K.setContext(U),p=y,V?be(V).then(()=>R):R})).then(U=>(P&&tn(),U)).catch(U=>(s.maybeReportError(U),Promise.reject(U))),h)},getContext:function(){return K.getContext()},variation:function(f,y){return ot(f,y,!0,!1,!1).value},variationDetail:function(f,y){return ot(f,y,!0,!0,!1)},track:function(f,y,h){if(typeof f!="string")return void s.maybeReportError(new q.LDInvalidEventKeyError(E.unknownCustomEventKey(f)));r.customEventFilter&&!r.customEventFilter(f)&&o.warn(E.unknownCustomEventKey(f));const _=K.getContext(),U={kind:"custom",key:f,context:_,url:r.getCurrentUrl(),creationDate:new Date().getTime()};_&&_.anonymous&&(U.contextKind=_.anonymous?"anonymousUser":"user"),y!=null&&(U.data=y),h!=null&&(U.metricValue=h),Ne(U)},on:function(f,y,h){ct(f)?(z=!0,N&&it(),s.on(f,y,h)):s.on(...arguments)},off:function(f){if(s.off(...arguments),ct(f)){let y=!1;s.getEvents().forEach(h=>{ct(h)&&s.getEventListenerCount(h)>0&&(y=!0)}),y||(z=!1,P&&D===void 0&&st())}},setStreaming:function(f){const y=f===null?void 0:f;y!==D&&(D=y,it())},flush:function(f){return C.wrapPromiseCallback(d?O.flush():Promise.resolve(),f)},allFlags:function(){const f={};if(!k)return f;for(const y in k)C.objectHasOwnProperty(k,y)&&!k[y].deleted&&(f[y]=ot(y,null,!l.sendEventsOnlyForVariation,!1,!0).value);return f},close:function(f){if(G)return C.wrapPromiseCallback(Promise.resolve(),f);const y=()=>{G=!0,k={}},h=Promise.resolve().then(()=>{if(st(),b&&b.stop(),d)return O.stop(),O.flush()}).then(y).catch(y);return C.wrapPromiseCallback(h,f)}},options:l,emitter:s,ident:K,logger:o,requestor:S,start:function(){d&&(b&&b.start(),O.start())},enqueueEvent:Ne,getFlagsInternal:function(){return k},getEnvironmentId:()=>g,internalChangeEventName:En}},errors:q,getContextKeys:sa},ia=Kt.initialize,ca=Kt.errors,la=Kt.getContextKeys;function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cn(Object(n),!0).forEach(function(r){ua(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ua(e,t,n){return(t=function(r){var i=function(o,s){if(typeof o!="object"||o===null)return o;var c=o[Symbol.toPrimitive];if(c!==void 0){var l=c.call(o,s);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(r,"string");return typeof i=="symbol"?i:String(i)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pn={promise:Promise.resolve({status:200,header:function(){return null},body:null})};function da(e,t,n,r,i){if(i&&!function(){var u=window.navigator&&window.navigator.userAgent;if(u){var d=u.match(/Chrom(e|ium)\/([0-9]+)\./);if(d)return parseInt(d[2],10)<73}return!0}())return Pn;var o=new window.XMLHttpRequest;for(var s in o.open(e,t,!i),n||{})Object.prototype.hasOwnProperty.call(n,s)&&o.setRequestHeader(s,n[s]);if(i)return o.send(r),Pn;var c,l=new Promise(function(u,d){o.addEventListener("load",function(){c||u({status:o.status,header:function(g){return o.getResponseHeader(g)},body:o.responseText})}),o.addEventListener("error",function(){c||d(new Error)}),o.send(r)});return{promise:l,cancel:function(){c=!0,o.abort()}}}function ga(e){var t,n={userAgentHeaderName:"X-LaunchDarkly-User-Agent",synchronousFlush:!1};if(window.XMLHttpRequest){var r=e&&e.disableSyncEventPost;n.httpRequest=function(c,l,u,d){var g=n.synchronousFlush&!r;return n.synchronousFlush=!1,da(c,l,u,d,g)}}n.httpAllowsPost=function(){return t===void 0&&(t=!!window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest),t},n.httpFallbackPing=function(c){new window.Image().src=c};var i,o=e&&e.eventUrlTransformer;n.getCurrentUrl=function(){return o?o(window.location.href):window.location.href},n.isDoNotTrack=function(){var c;return(c=window.navigator&&window.navigator.doNotTrack!==void 0?window.navigator.doNotTrack:window.navigator&&window.navigator.msDoNotTrack!==void 0?window.navigator.msDoNotTrack:window.doNotTrack)===1||c===!0||c==="1"||c==="yes"};try{window.localStorage&&(n.localStorage={get:function(c){return new Promise(function(l){l(window.localStorage.getItem(c))})},set:function(c,l){return new Promise(function(u){window.localStorage.setItem(c,l),u()})},clear:function(c){return new Promise(function(l){window.localStorage.removeItem(c),l()})}})}catch{n.localStorage=null}if(e&&e.useReport&&typeof window.EventSourcePolyfill=="function"&&window.EventSourcePolyfill.supportedOptions&&window.EventSourcePolyfill.supportedOptions.method?(n.eventSourceAllowsReport=!0,i=window.EventSourcePolyfill):(n.eventSourceAllowsReport=!1,i=window.EventSource),window.EventSource){var s=3e5;n.eventSourceFactory=function(c,l){var u=In(In({},{heartbeatTimeout:s,silentTimeout:s,skipDefaultHeaders:!0}),l);return new i(c,u)},n.eventSourceIsActive=function(c){return c.readyState===window.EventSource.OPEN||c.readyState===window.EventSource.CONNECTING}}return n.userAgent="JSClient",n.version="3.1.0",n.diagnosticSdkData={name:"js-client-sdk",version:"3.1.0"},n.diagnosticPlatformData={name:"JS"},n.diagnosticUseCombinedEvent=!0,n}var Tt=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")};function fa(e,t,n,r){var i,o,s=((e.kind==="substring"||e.kind==="regex")&&r.includes("/")?t:t.replace(r,"")).replace(n,"");switch(e.kind){case"exact":o=t,i=new RegExp("^"+Tt(e.url)+"/?$");break;case"canonical":o=s,i=new RegExp("^"+Tt(e.url)+"/?$");break;case"substring":o=s,i=new RegExp(".*"+Tt(e.substring)+".*$");break;case"regex":o=s,i=new RegExp(e.pattern);break;default:return!1}return i.test(o)}function Dn(e,t){for(var n={},r=null,i=[],o=0;o<e.length;o++)for(var s=e[o],c=s.urls||[],l=0;l<c.length;l++)if(fa(c[l],window.location.href,window.location.search,window.location.hash)){s.kind==="pageview"?t("pageview",s):(i.push(s),t("click_pageview",s));break}return i.length>0&&(r=function(u){for(var d=function(p,m){for(var v=[],j=0;j<m.length;j++)for(var T=p.target,x=m[j],b=x.selector,I=document.querySelectorAll(b);T&&I.length>0;){for(var O=0;O<I.length;O++)T===I[O]&&v.push(x);T=T.parentNode}return v}(u,i),g=0;g<d.length;g++)t("click",d[g])},document.addEventListener("click",r)),n.dispose=function(){document.removeEventListener("click",r)},n}function ma(e,t){var n,r;function i(){r&&r.dispose(),n&&n.length&&(r=Dn(n,o))}function o(s,c){var l=e.ident.getContext(),u={kind:s,key:c.key,data:null,url:window.location.href,creationDate:new Date().getTime(),contextKeys:la(l)};return s==="click"&&(u.selector=c.selector),e.enqueueEvent(u)}return e.requestor.fetchJSON("/sdk/goals/"+e.getEnvironmentId()).then(function(s){s&&s.length>0&&(r=Dn(n=s,o),function(c,l){var u,d=window.location.href;function g(){(u=window.location.href)!==d&&(d=u,l())}(function p(m,v){m(),setTimeout(function(){p(m,v)},v)})(g,c),window.history&&window.history.pushState?window.addEventListener("popstate",g):window.addEventListener("hashchange",g)}(300,i)),t()}).catch(function(s){e.emitter.maybeReportError(new ca.LDUnexpectedResponseError((s&&s.message,s.message))),t()}),{}}var He="goalsReady",pa={fetchGoals:{default:!0},hash:{type:"string"},eventProcessor:{type:"object"},eventUrlTransformer:{type:"function"},disableSyncEventPost:{default:!1}};function ha(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=ga(n),i=ia(e,t,n,r,pa),o=i.client,s=i.options,c=i.emitter,l=new Promise(function(g){var p=c.on(He,function(){c.off(He,p),g()})});o.waitUntilGoalsReady=function(){return l},s.fetchGoals?ma(i,function(){return c.emit(He)}):c.emit(He),document.readyState!=="complete"?window.addEventListener("load",i.start):i.start();var u=function(){r.synchronousFlush=!0,o.flush().catch(function(){}),r.synchronousFlush=!1},d=function(){document.visibilityState==="hidden"&&u()};return document.addEventListener("visibilitychange",d),window.addEventListener("pagehide",u),o}function va(e,t){return{kind:e,key:t}}function Tn(e,t){const n="user";return e?{kind:n,anonymous:!1,key:e.userId,email:e.email,name:e.name,locale:t}:{kind:n,anonymous:!0,locale:t,key:void 0}}function Ut(...e){const t={kind:"multi"};return e.forEach(n=>{t[n.kind]=n}),t}function ya(e){return e.kind==="multi"}function xa(e){return Object.entries(e).filter(([t])=>t!=="kind").map(([t,n])=>n)}const ba=(e,t)=>{var r;const n=ya(e.context)?xa(e.context):[e.context];switch(t.type){case"add":return((r=n.find(s=>s.kind===t.context.kind))==null?void 0:r.key)===t.context.key?e:{context:Ut(...n.filter(s=>s.kind!==t.context.kind),t.context)};case"remove":return{context:Ut(...n.filter(s=>s.kind!==t.kind))}}};var wa={};const On="featureService",ja=5e3,ka=void 0,Sa=({children:e,apiKey:t})=>{const{setFeatureOverwrites:n}=nr(),r=L.useRef(),[i,o]=L.useState("initializing"),{user:s}=Le(),c=rr(),{locale:l}=ie(),{setMessageOverwrite:u}=or(),[d,g]=L.useReducer(ba,{context:Ut(Tn(s,l))});L.useEffect(()=>{const x=Tn(s,l);g({type:"add",context:x})},[s,l]);const p=L.useCallback((x,b)=>{g({type:"add",context:va(x,b)})},[]),m=L.useCallback(x=>{g({type:"remove",kind:x})},[]);L.useEffect(()=>{var x;(x=r.current)==null||x.identify(d.context,void 0,ka)},[d,r]);const v=()=>{var I;const x="i18n_",b=Object.entries(((I=r.current)==null?void 0:I.allFlags())??{}).filter(([O,S])=>O.startsWith(x)&&!!S&&typeof S=="string").map(([O,S])=>[O.slice(x.length),S]);u(Object.fromEntries(b))},j=()=>{var I;const x=((I=r.current)==null?void 0:I.allFlags())??{},b=Object.fromEntries(Object.entries(x).filter(([O])=>O.startsWith(On)).map(([O,{enabled:S}])=>[O.replace(`${On}.`,""),S]).filter(([O,S])=>typeof S<"u"));n(b)};r.current||(r.current=ha(t,d.context),Promise.race([r.current.waitForInitialization(),sr(ja,ut.LD_LOAD_TIMEOUT)]).then(()=>{var x;o("initialized"),c.setContext({experiments:JSON.stringify((x=r.current)==null?void 0:x.allFlags())}),v(),j()}).catch(x=>{console.warn(`Failed to initialize LaunchDarkly service with reason: ${String(x)}`),x===ut.LD_LOAD_TIMEOUT&&ar(ut.LD_LOAD_TIMEOUT),o("failed")})),ir("_EXPERIMENTS",()=>{var x;return{...(x=r.current)==null?void 0:x.allFlags(),...wa.REACT_APP_EXPERIMENT_OVERWRITES??{}}}),Je(()=>{var b;const x=()=>{var I;c.setContext({experiments:JSON.stringify((I=r.current)==null?void 0:I.allFlags())}),v(),j()};return(b=r.current)==null||b.on("change",x),()=>{var I;return(I=r.current)==null?void 0:I.off("change",x)}});const T=L.useMemo(()=>({addContext:p,removeContext:m,getExperiment(x,b){var I;return(I=r.current)==null?void 0:I.variation(x,b)},getExperimentChanges$(x){var O;const b=new cr,I=S=>{b.next(S)};return(O=r.current)==null||O.on(`change:${x}`,I),b.pipe(lr(()=>{var S;(S=r.current)==null||S.off(`change:${x}`,I)}))},getAllExperiments(){var x;return((x=r.current)==null?void 0:x.allFlags())??{}}}),[p,m]);return i==="initializing"?a.jsx(Ae,{}):i==="failed"?a.jsx(a.Fragment,{children:e}):a.jsx(ur,{value:T,children:e})},Ea=({children:e})=>{const{launchdarklyKey:t}=Un();return t?a.jsx(Sa,{apiKey:t,children:e}):a.jsx(a.Fragment,{children:e})},Ca="SSOBookmarkPage-module__ssoBookmarkPage__56cd26",Ia={ssoBookmarkPage:Ca},Pa=()=>{const{changeRealmAndRedirectToSignin:e}=Le(),{companyIdentifier:t}=dr(),[n,r]=L.useState("loading"),{formatMessage:i}=ie();if(!e)throw new Error("Rendered SSOBookmarkPage while AuthService does not provide changeRealmAndRedirectToSignin");const o=L.useCallback(async s=>{try{return await e(s)}catch{return r("error"),Promise.reject(i({id:"login.sso.invalidCompanyIdentifier"}))}},[e,i]);return L.useEffect(()=>{t&&o(t)},[o,t]),t?n==="loading"?a.jsx(so,{}):a.jsxs(W,{direction:"column",className:Ia.ssoBookmarkPage,gap:"xl",children:[a.jsx(W,{alignItems:"center",children:a.jsx(Nt,{type:"error",text:a.jsx(F,{id:"login.sso.companyIdentifierNotFound",values:{companyIdentifier:t}})})}),a.jsx(de,{children:a.jsx(he,{to:re.Sso,children:a.jsx(F,{id:"login.sso.backToSsoLogin"})})})]}):a.jsx(Se,{to:re.Login})},Da="SSOIdentifierPage-module__ssoIdentifierPage__44a437",Ta={ssoIdentifierPage:Da},Oa=fe.object({companyIdentifier:fe.string().trim().nonempty("form.empty.error")}),_a=()=>{const[e,t]=gr("airbyte_last-sso-company-identifier",""),{changeRealmAndRedirectToSignin:n}=Le(),{formatMessage:r}=ie(),{state:i}=Rn();if(!n)throw new Error("Rendered SSOIdentifierPage while AuthService does not provide changeRealmAndRedirectToSignin");const o=async({companyIdentifier:s},c)=>{try{return t(s),await n(s)}catch{return t(""),c.setError("companyIdentifier",{message:"login.sso.invalidCompanyIdentifier"}),Promise.reject()}};return a.jsx("main",{className:Ta.ssoIdentifierPage,children:a.jsxs(Ft,{onSubmit:o,defaultValues:{companyIdentifier:e},zodSchema:Oa,children:[a.jsx(Oe,{mb:"md",children:a.jsx(Ue,{as:"h1",size:"xl",color:"blue",children:a.jsx(F,{id:"login.sso.title"})})}),(i==null?void 0:i[fr])&&a.jsx(Oe,{mb:"lg",children:a.jsx(Nt,{type:"warning",text:r({id:"login.sso.ssoLoginRequired"})})}),a.jsx(Oe,{mb:"lg",children:a.jsx(de,{children:a.jsx(F,{id:"login.sso.description"})})}),a.jsx(Xe,{fieldType:"input",name:"companyIdentifier",placeholder:r({id:"login.sso.companyIdentifier.placeholder"}),label:r({id:"login.sso.companyIdentifier.label"})}),a.jsx(Aa,{}),a.jsx(Oe,{my:"xl",children:a.jsx(Ua,{})}),a.jsxs(W,{gap:"md",children:[a.jsx(Mt,{grow:!1,children:a.jsx(et,{type:"comments"})}),a.jsx(de,{children:a.jsx(F,{id:"login.sso.getSsoLogin",values:{a:s=>a.jsx(he,{to:zt.contactSales,children:s})}})})]})]})})},Aa=()=>{const{isSubmitting:e}=mr();return a.jsxs(W,{justifyContent:"space-between",alignItems:"center",children:[a.jsx(he,{to:re.Login,children:a.jsx(de,{color:"grey",children:a.jsx(F,{id:"login.backLogin"})})}),a.jsx(Ln,{type:"submit",isLoading:e,children:a.jsx(F,{id:"login.sso.continueWithSSO"})})]})},Ua=()=>{const e=pr({name:"companyIdentifier"}),{formatMessage:t}=ie(),n=t({id:"login.sso.companyIdentifier.placeholder"}),r=e.trim()||n;return a.jsxs(W,{gap:"md",children:[a.jsx(Mt,{grow:!1,children:a.jsx(et,{type:"lightbulb"})}),a.jsx(de,{children:a.jsx(F,{id:"login.sso.quickLink",values:{a:i=>a.jsx(he,{to:`${re.Sso}/${r}`,children:i}),companyIdentifier:r}})})]})},Ra=()=>{const{formatMessage:e}=ie(),t=Vt($t.AllowDBTCloudIntegration),n=tt(),r=me(pe.ViewOrganizationSettings,{organizationId:n.organizationId}),i=Ee("settings.showAdvancedSettings"),o=me(pe.ManageOrganizationBilling),s=me(pe.ViewOrganizationUsage),c=Ee("sidebar.showOrgPickerV2");return a.jsxs(ao,{children:[a.jsxs(io,{children:[!c&&a.jsxs(gt,{title:e({id:"settings.userSettings"}),children:[a.jsx(te,{iconType:"user",name:e({id:"settings.account"}),to:A.Account}),a.jsx(te,{iconType:"grid",name:e({id:"settings.applications"}),to:A.Applications}),hr()&&a.jsx(co,{iconType:"parameters",onClick:()=>vr(),name:e({id:"settings.cookiePreferences"})}),i&&a.jsx(te,{iconType:"gear",name:e({id:"settings.advanced"}),to:A.Advanced})]}),a.jsxs(gt,{title:e({id:"settings.workspaceSettings"}),children:[a.jsx(te,{iconType:"gear",name:e({id:"settings.general"}),to:A.Workspace}),a.jsx(te,{iconType:"community",name:e({id:"settings.members"}),to:A.WorkspaceMembers}),a.jsx(te,{iconType:"source",name:e({id:"tables.sources"}),to:A.Source}),a.jsx(te,{iconType:"destination",name:e({id:"tables.destinations"}),to:A.Destination}),t&&a.jsx(te,{iconType:"integrations",name:e({id:"settings.integrationSettings"}),to:A.DbtCloud}),a.jsx(te,{iconType:"bell",name:e({id:"settings.notifications"}),to:A.Notifications}),a.jsx(te,{iconType:"chart",name:e({id:"settings.usage"}),to:A.Usage})]}),r&&!c&&a.jsxs(gt,{title:e({id:"settings.organization"}),children:[a.jsx(te,{iconType:"gear",name:e({id:"settings.general"}),to:A.Organization}),a.jsx(te,{iconType:"community",name:e({id:"settings.members"}),to:A.OrganizationMembers}),o&&a.jsx(te,{iconType:"credits",name:e({id:"sidebar.billing"}),to:A.Billing}),s&&a.jsx(te,{iconType:"chart",name:e({id:"settings.usage"}),to:A.OrganizationUsage})]})]}),a.jsx(lo,{children:a.jsx(L.Suspense,{fallback:a.jsx(Ae,{}),children:a.jsx(yr,{})})})]})},La=()=>{const{openConfirmationModal:e,closeConfirmationModal:t}=xr(),{deleteToken:n}=Nn(),{registerNotification:r}=Bt(),{formatMessage:i}=ie(),o=Fn();return L.useCallback(()=>{e({text:"settings.integrationSettings.dbtCloudSettings.action.delete.modal",title:"settings.integrationSettings.dbtCloudSettings.actions.delete.confirm",submitButtonText:"settings.integrationSettings.dbtCloudSettings.actions.delete",onSubmit:async()=>{await n(void 0,{onError:s=>{r({id:"dbtCloud/delete-token-failure",text:o(s),type:"error"})},onSuccess:()=>{r({id:"dbtCloud/delete-token-success",text:i({id:"settings.integrationSettings.dbtCloudSettings.actions.delete.success"}),type:"success"})}}),t()},submitButtonDataId:"delete"})},[e,n,t,r,i,o])},Na=fe.object({authToken:fe.string().trim().nonempty("form.empty.error"),accessUrl:fe.string().trim().optional()}),Fa=()=>{const e=Fn(),{formatMessage:t}=ie(),{hasExistingToken:n,saveToken:r}=Nn(),{registerNotification:i}=Bt(),o=me(pe.UpdateWorkspace),s=La(),c=async d=>{await r({authToken:d.authToken,accessUrl:d.accessUrl||void 0})},l=()=>{i({id:"dbtCloud/save-token-success",text:t({id:"settings.integrationSettings.dbtCloudSettings.actions.submit.success"}),type:"success"})},u=d=>{Mn(d),i({id:"dbtCloud/save-token-failure",text:e(d),type:"error"})};return a.jsxs(W,{direction:"column",gap:"xl",children:[a.jsx(Ue,{as:"h1",children:t({id:"settings.integrationSettings.dbtCloudSettings"})}),a.jsx(a.Fragment,{children:n?a.jsxs(a.Fragment,{children:[a.jsx(Nt,{text:a.jsx(F,{id:"settings.integrationSettings.dbtCloudSettings.form.serviceTokenAlreadyExist"})}),a.jsx(W,{justifyContent:"flex-start",children:a.jsx(Ln,{variant:"danger",type:"button",onClick:s,children:a.jsx(F,{id:"settings.integrationSettings.dbtCloudSettings.actions.delete"})})})]}):a.jsxs(a.Fragment,{children:[a.jsx(de,{children:a.jsx(F,{id:"settings.integrationSettings.dbtCloudSettings.form.description",values:{lnk:d=>a.jsx(Rt,{href:zt.dbtCloudIntegrationDocs,children:d})}})}),a.jsxs(Ft,{defaultValues:{authToken:""},onSubmit:c,onSuccess:l,onError:u,zodSchema:Na,disabled:!o,children:[a.jsx(Xe,{name:"accessUrl",fieldType:"input",optional:!0,disabled:n,label:t({id:"settings.integrationSettings.dbtCloudSettings.form.urlLabel"}),placeholder:t({id:"settings.integrationSettings.dbtCloudSettings.form.urlPlaceholder"})}),a.jsx(Xe,{name:"authToken",fieldType:"input",type:"password",disabled:n,label:t({id:"settings.integrationSettings.dbtCloudSettings.form.serviceTokenLabel"}),placeholder:t({id:n?"general.maskedString":"settings.integrationSettings.dbtCloudSettings.form.serviceTokenInputHidden"})}),a.jsx(Bn,{noCancel:!0,justify:"flex-start",submitKey:"form.saveChanges"})]})]})})]})},Ma=fe.object({name:fe.string().trim().nonempty("form.empty.error"),dataplaneGroupId:fe.string().optional()}),za=()=>{const{formatMessage:e}=ie(),{mutateAsync:t}=br(),{registerNotification:n}=Bt(),{workspaceId:r,name:i,email:o,dataplaneGroupId:s}=tt(),c=wr(r),l=me(pe.UpdateWorkspace),u=Vt($t.AllowChangeDataplanes),d=async({name:m,dataplaneGroupId:v})=>{await t({workspaceId:r,name:m,dataplaneGroupId:v}),await c()},g=()=>{n({id:"workspace_settings_update_success",text:e({id:"settings.workspaceSettings.update.success"}),type:"success"})},p=(m,{name:v})=>{Mn(m,{name:v,email:o}),n({id:"workspace_settings_update_error",text:e({id:"settings.workspaceSettings.update.error"}),type:"error"})};return a.jsxs(Ft,{defaultValues:{name:i,dataplaneGroupId:s},zodSchema:Ma,onSubmit:d,onSuccess:g,onError:p,disabled:!l,children:[a.jsx(Xe,{name:"name",fieldType:"input",label:e({id:"settings.workspaceSettings.updateWorkspaceNameForm.name.label"}),placeholder:e({id:"settings.workspaceSettings.updateWorkspaceNameForm.name.placeholder"})}),u&&s&&a.jsx(uo,{labelId:"settings.region",name:"dataplaneGroupId"}),l&&a.jsx(Bn,{noCancel:!0,justify:"flex-start",submitKey:"form.saveChanges"})]})},Va=()=>{const{formatMessage:e}=ie(),t=Lt();zn(Vn.SETTINGS_WORKSPACE);const n=me(pe.DeleteWorkspace);return a.jsxs(W,{direction:"column",gap:"xl",children:[a.jsxs(W,{alignItems:"center",wrap:"wrap",children:[a.jsx(Mt,{grow:!0,children:a.jsx(Ue,{as:"h1",size:"md",children:a.jsx(F,{id:"settings.workspace.general.title"})})}),a.jsx(jr,{content:t,variant:"clear",iconPosition:"right",title:e({id:"settings.workspaceId.copy"}),children:a.jsx(F,{id:"settings.workspaceId",values:{id:t}})})]}),a.jsx(za,{}),a.jsx(rn,{}),a.jsx(go,{}),n&&a.jsxs(a.Fragment,{children:[a.jsx(rn,{}),a.jsxs(W,{direction:"column",children:[a.jsx(Ue,{as:"h2",size:"sm",children:a.jsx(F,{id:"settings.general.danger"})}),a.jsx(W,{children:a.jsx(fo,{})})]})]})]})};function $a(e,t){const n=[];return e.forEach(r=>{const i={connection:{connectionId:r.connection.connectionId,connectionName:r.connection.name,connectionScheduleType:r.connection.scheduleType,connectionSchedule:r.connection.schedule,status:r.connection.status,sourceId:r.source.sourceId,sourceConnectionName:r.source.name,sourceCustom:!!r.sourceDefinition.custom,sourceIcon:r.source.icon??"",sourceDefinitionId:r.source.sourceDefinitionId,sourceDefinitionName:r.sourceDefinition.name,sourceReleaseStage:r.sourceDefinition.releaseStage??"custom",sourceSupportLevel:r.sourceDefinition.supportLevel??"none",destinationId:r.destination.destinationId,destinationConnectionName:r.destination.name,destinationCustom:!!r.destinationDefinition.custom,destinationIcon:r.destination.icon??"",destinationDefinitionId:r.destination.destinationDefinitionId,destinationDefinitionName:r.destinationDefinition.name,destinationReleaseStage:r.destinationDefinition.releaseStage??"custom",destinationSupportLevel:r.destinationDefinition.supportLevel??"none"},usage:Wn(t),totalFreeUsage:0,totalBilledCost:0,totalInternalUsage:0,totalUsage:0};r.usage.free.forEach(o=>{ke(i.usage,o,"freeUsage",t)}),r.usage.regular.forEach(o=>{ke(i.usage,o,"billedCost",t)}),r.usage.internal.forEach(o=>{ke(i.usage,o,"internalUsage",t)}),i.usage.forEach(o=>{i.totalFreeUsage+=o.freeUsage,i.totalBilledCost+=o.billedCost,i.totalUsage+=o.freeUsage+o.billedCost+o.internalUsage,i.totalInternalUsage+=o.internalUsage}),n.push(i)}),n}function ke(e,t,n,r){const i=r==="lastYear"?"MMM 'YY":"MMM DD",o=kr(t.timeframeStart).format(i),s=e.find(c=>c.timeChunkLabel===o);s&&(s[n]+=t.quantity)}function Ba(e,t){const n=Wn(t);return e.forEach(r=>{r.usage.free.forEach(i=>{ke(n,i,"freeUsage",t)}),r.usage.regular.forEach(i=>{ke(n,i,"billedCost",t)}),r.usage.internal.forEach(i=>{ke(n,i,"internalUsage",t)})}),n}const Wa="ConnectorOptionLabel-module__connectorName__f38891",Ha={connectorName:Wa},qe=({connector:e})=>a.jsxs(W,{title:e.name,alignItems:"center",justifyContent:"flex-start",children:[a.jsx(At,{icon:e.icon}),a.jsx(de,{color:"darkBlue",className:Ha.connectorName,children:e.name})]}),Yn=L.createContext(null),Jt=()=>{const e=L.useContext(Yn);if(!e)throw new Error("useCreditsContext should be used within CreditsUsageContextProvider");return e},qa=({children:e})=>{const[t,n]=Sr({selectedTimeWindow:Ge.lastMonth,selectedSource:null,selectedDestination:null}),{selectedTimeWindow:r,selectedSource:i,selectedDestination:o}=t,s=Er({timeWindow:r}),c=L.useMemo(()=>{const m=new Map;return s.data.forEach(v=>{o?o===v.destination.destinationId&&m.set(v.source.sourceId,{label:a.jsx(qe,{connector:{name:v.source.name,icon:v.source.icon??""}}),value:v.source.sourceId}):m.set(v.source.sourceId,{label:a.jsx(qe,{connector:{name:v.source.name,icon:v.source.icon??""}}),value:v.source.sourceId})}),Array.from(m.values())},[s,o]),l=L.useMemo(()=>{const m=new Map;return s.data.forEach(v=>{i?i===v.source.sourceId&&m.set(v.destination.destinationId,{label:a.jsx(qe,{connector:{name:v.destination.name,icon:v.destination.icon??""}}),value:v.destination.destinationId}):m.set(v.destination.destinationId,{label:a.jsx(qe,{connector:{name:v.destination.name,icon:v.destination.icon??""}}),value:v.destination.destinationId})}),Array.from(m.values())},[s,i]),u=L.useMemo(()=>i&&o?s.data.filter(m=>m.source.sourceId===i&&m.destination.destinationId===o):i?s.data.filter(m=>m.source.sourceId===i):o?s.data.filter(m=>m.destination.destinationId===o):s.data,[s,o,i]),d=Ba(u,r),g=$a(u,r),p={freeAndPaidUsageByTimeChunk:d,freeAndPaidUsageByConnection:g,sourceOptions:c,destinationOptions:l,selectedSource:i,setSelectedSource:m=>n("selectedSource",m),selectedDestination:o,setSelectedDestination:m=>n("selectedDestination",m),selectedTimeWindow:r,setSelectedTimeWindow:m=>n("selectedTimeWindow",m),hasFreeUsage:d.some(m=>m.freeUsage>0),hasInternalUsage:d.some(m=>m.internalUsage&&m.internalUsage>0)};return a.jsx(Yn.Provider,{value:p,children:e})},Ga="CreditsUsageFilters-module__controlButton__9ad8f5",Ot={controlButton:Ga},_t=({selectedOption:e})=>{const{formatMessage:t}=ie();return a.jsx(a.Fragment,{children:e?a.jsx(de,{color:"grey",bold:!0,children:e.label}):a.jsx(de,{as:"span",size:"lg",color:"grey",children:t({id:"form.selectValue"})})})},Ka=()=>{const{sourceOptions:e,destinationOptions:t,setSelectedDestination:n,setSelectedSource:r,setSelectedTimeWindow:i,selectedDestination:o,selectedSource:s,selectedTimeWindow:c}=Jt(),{formatMessage:l}=ie(),u=[s,o].some(p=>!!p),d=p=>{r(p)},g=p=>{n(p)};return a.jsxs(W,{children:[a.jsx(dt,{controlButtonContent:_t,buttonClassName:Ot.controlButton,options:[{label:l({id:"settings.organization.billing.filter.lastThirtyDays"}),value:Ge.lastMonth},{label:l({id:"settings.organization.billing.filter.lastSixMonths"}),value:Ge.lastSixMonths},{label:l({id:"settings.organization.billing.filter.lastTwelveMonths"}),value:Ge.lastYear}],selectedValue:c,onSelect:p=>i(p)}),a.jsx(dt,{controlButtonContent:_t,buttonClassName:Ot.controlButton,options:[{label:l({id:"settings.organization.billing.filter.allSources"}),value:null},...e],selectedValue:s,onSelect:p=>d(p)}),a.jsx(dt,{controlButtonContent:_t,buttonClassName:Ot.controlButton,options:[{label:l({id:"settings.organization.billing.filter.allDestinations"}),value:null},...t],selectedValue:o,onSelect:p=>g(p)}),u&&a.jsx(Ro,{onClick:()=>{d(null),g(null)}})]})},Ja="UsagePerConnectionTable-module__content__567be5",Xa="UsagePerConnectionTable-module__deleted__36368c",Qa="UsagePerConnectionTable-module__cellText__51b8f0",Ya="UsagePerConnectionTable-module__usageTotals__ac816d",le={content:Ja,"header--nonSortable":"UsagePerConnectionTable-module__header--nonSortable__ab3e29",deleted:Xa,cellText:Qa,usageTotals:Ya},Za=({freeAndPaidUsageByConnection:e})=>{const{workspaceId:t}=tt(),n=L.useMemo(()=>Cr(),[]),r=M.useMemo(()=>[n.accessor("connection.connectionName",{header:()=>a.jsx(F,{id:"credits.connection"}),meta:{responsive:!0},sortingFn:"alphanumeric",cell:i=>a.jsx(he,{to:`/${$.Workspaces}/${t}/${$.Connections}/${i.row.original.connection.connectionId}`,children:a.jsx(W,{alignItems:"center",gap:"xs",children:a.jsxs(Fe,{size:"sm",color:i.row.original.connection.status===ce.deprecated?"grey300":void 0,className:Ie(le.cellText),children:[i.cell.getValue(),i.row.original.connection.status===ce.deprecated&&a.jsx(Ir,{children:a.jsx(F,{id:"credits.connection.deleted"})})]})})})}),n.accessor("connection.sourceConnectionName",{header:()=>a.jsx(F,{id:"credits.source"}),meta:{responsive:!0},sortingFn:"alphanumeric",cell:i=>a.jsx(he,{to:`/${$.Workspaces}/${t}/${$.Source}/${i.row.original.connection.sourceId}`,children:a.jsxs(W,{direction:"row",alignItems:"center",className:Ie({[le.deleted]:i.row.original.connection.status===ce.deprecated}),children:[a.jsx(At,{icon:i.row.original.connection.sourceIcon}),a.jsx(Fe,{size:"sm",className:le.cellText,children:i.cell.getValue()}),a.jsx(an,{supportLevel:i.row.original.connection.sourceSupportLevel,custom:i.row.original.connection.sourceCustom})]})})}),n.display({id:"arrow",cell:i=>a.jsx("div",{className:Ie({[le.deleted]:i.row.original.connection.status===ce.deprecated}),children:a.jsx(et,{type:"arrowRight"})}),enableSorting:!1,meta:{responsive:!0}}),n.accessor("connection.destinationConnectionName",{header:()=>a.jsx(F,{id:"credits.destination"}),meta:{responsive:!0},sortingFn:"alphanumeric",cell:i=>a.jsx(he,{to:`/${$.Workspaces}/${t}/${$.Destination}/${i.row.original.connection.destinationId}`,children:a.jsxs(W,{direction:"row",alignItems:"center",className:Ie({[le.deleted]:i.row.original.connection.status===ce.deprecated}),children:[a.jsx(At,{icon:i.row.original.connection.destinationIcon}),a.jsx(Fe,{size:"sm",color:i.row.original.connection.status===ce.deprecated?"grey300":void 0,children:i.cell.getValue()}),a.jsx(an,{supportLevel:i.row.original.connection.destinationSupportLevel,custom:i.row.original.connection.destinationCustom})]})})}),n.display({id:"schedule",header:()=>a.jsx(F,{id:"credits.schedule"}),cell:i=>{var o,s,c;return a.jsx(W,{alignItems:"center",children:a.jsx(Fe,{size:"sm",className:le.cellText,children:i.row.original.connection.connectionScheduleType===on.manual||i.row.original.connection.connectionScheduleType===on.cron?a.jsx(F,{id:`frequency.${i.row.original.connection.connectionScheduleType}`}):a.jsx(F,{id:`frequency.${((s=(o=i.row.original.connection.connectionSchedule)==null?void 0:o.timeUnit)==null?void 0:s.toLowerCase())??"manual"}`,values:{value:(c=i.row.original.connection.connectionSchedule)==null?void 0:c.units}})})})},meta:{thClassName:le["header--nonSortable"],responsive:!0},enableSorting:!1}),n.accessor("totalUsage",{header:()=>a.jsx(F,{id:"credits.usage"}),meta:{responsive:!0},sortingFn:"basic",cell:i=>a.jsxs(W,{alignItems:"center",className:Ie({[le.deleted]:i.row.original.connection.status===ce.deprecated}),children:[a.jsx(Hn,{chartData:i.row.original.usage,minimized:!0}),a.jsxs(W,{direction:"column",gap:"none",className:le.usageTotals,children:[i.row.original.totalFreeUsage>0&&a.jsx(ft,{credits:i.row.original.totalFreeUsage,color:i.row.original.connection.status===ce.deprecated?"grey300":"green",size:"sm"}),i.row.original.totalInternalUsage>0&&a.jsx(ft,{credits:i.row.original.totalInternalUsage,color:i.row.original.connection.status===ce.deprecated?"grey300":"blue",size:"sm"}),i.row.original.totalBilledCost>0&&a.jsx(ft,{color:i.row.original.connection.status===ce.deprecated?"grey300":void 0,credits:i.row.original.totalBilledCost,size:"sm"})]})]})})],[n,t]);return a.jsx("div",{className:le.content,children:a.jsx(Pr,{rowId:i=>i.connection.connectionId,variant:"white",columns:r,data:e,initialSortBy:[{id:"totalUsage",desc:!0}]})})},ei=()=>(zn(Vn.SETTINGS_WORKSPACE_USAGE),a.jsxs(W,{direction:"column",gap:"xl",children:[a.jsx(W,{alignItems:"center",children:a.jsx(Ue,{as:"h1",children:a.jsx(F,{id:"settings.workspace.usage.title"})})}),a.jsx(de,{children:a.jsx(F,{id:"settings.workspace.usage.tooltip",values:{lnk:e=>a.jsx(Rt,{href:zt.creditDescription,children:e})}})}),a.jsxs(qa,{children:[a.jsx(Ka,{}),a.jsx(ti,{}),a.jsx(ni,{})]})]})),ti=()=>{const{freeAndPaidUsageByTimeChunk:e,hasFreeUsage:t,hasInternalUsage:n}=Jt();return a.jsx(Hn,{hasFreeUsage:t,hasInternalUsage:n,chartData:e})},ni=()=>{const{freeAndPaidUsageByConnection:e}=Jt();return a.jsx(Za,{freeAndPaidUsageByConnection:e})},ri=M.lazy(()=>H(()=>import("./AllDestinationsPage-gh5cejxol8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]))),oi=M.lazy(()=>H(()=>import("./CreateDestinationPage-itz66ampzu.js"),__vite__mapDeps([17,1,2,3,6,7]))),si=M.lazy(()=>H(()=>import("./SelectDestinationPage-ldwdqai267.js"),__vite__mapDeps([18,1,2,3,6,7]))),ai=M.lazy(()=>H(()=>import("./DestinationItemPage-duvijai9t9.js"),__vite__mapDeps([19,1,2,3,20,6,7,21,22,23,24,25,26,27]))),ii=M.lazy(()=>H(()=>import("./DestinationConnectionsPage-ekxdiifbkd.js"),__vite__mapDeps([28,1,2,3,29,30,10,11,4,5,31,32,13,14,6,7,33,34,35,36,23,24,25,37,38,39]))),ci=M.lazy(()=>H(()=>import("./DestinationSettingsPage-hpq2yez10a.js"),__vite__mapDeps([40,1,2,3,41,6,7,42]))),li=M.lazy(()=>H(()=>import("./AllSourcesPage-bma8ouby1z.js"),__vite__mapDeps([43,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,44]))),ui=M.lazy(()=>H(()=>import("./CreateSourcePage-ldprv8x65b.js"),__vite__mapDeps([45,1,2,3,6,7,36,23,24,25]))),di=M.lazy(()=>H(()=>import("./SelectSourcePage-eiuhq59839.js"),__vite__mapDeps([46,1,2,3,6,7]))),gi=M.lazy(()=>H(()=>import("./SourceItemPage-ylj7ewphdb.js"),__vite__mapDeps([47,1,2,3,20,6,7,21,22,23,24,25,26,48]))),fi=M.lazy(()=>H(()=>import("./SourceConnectionsPage-l0bn6junew.js"),__vite__mapDeps([49,1,2,3,29,30,10,11,4,5,31,32,13,14,6,7,33,34,35,36,23,24,25,37,38,50]))),mi=M.lazy(()=>H(()=>import("./SourceSettingsPage-pbv73wbguc.js"),__vite__mapDeps([51,1,2,3,41,6,7,52]))),pi=M.lazy(()=>H(()=>import("./ConnectionsRoutes-bhk0we7t3e.js").then(e=>e.j),__vite__mapDeps([53,1,2,3,6,7,35,36,23,24,25,54]))),hi=M.lazy(()=>H(()=>import("./core-l0xde5f173.js").then(e=>e.l5),__vite__mapDeps([1,2,3]))),_n=()=>{Dr();const e=tt(),t=Tr("ViewOrganizationSettings",{organizationId:e.organizationId}),n=me(pe.ManageOrganizationBilling),r=me(pe.ViewOrganizationUsage),i=Ee("onboarding.surveyEnabled"),o=Ee("sidebar.showOrgPickerV2");sn("workspace",e.workspaceId),sn("organization",e.organizationId);const s=M.useMemo(()=>({workspace_id:e.workspaceId,customer_id:e.customerId}),[e]);$n(s);const c=Vt($t.AllowDBTCloudIntegration);return a.jsxs(Qe,{children:[a.jsxs(w,{path:$.Destination,children:[a.jsx(w,{index:!0,element:a.jsx(ri,{})}),a.jsx(w,{path:Me.SelectDestinationNew,element:a.jsx(si,{})}),a.jsx(w,{path:Me.DestinationNew,element:a.jsx(oi,{})}),a.jsxs(w,{path:Me.Root,element:a.jsx(ai,{}),children:[a.jsx(w,{index:!0,element:a.jsx(ci,{})}),a.jsx(w,{path:Me.Connections,element:a.jsx(ii,{})})]})]}),a.jsxs(w,{path:$.Source,children:[a.jsx(w,{index:!0,element:a.jsx(li,{})}),a.jsx(w,{path:Pe.SelectSourceNew,element:a.jsx(di,{})}),a.jsx(w,{path:Pe.SourceNew,element:a.jsx(ui,{})}),a.jsx(w,{path:Pe.EnterpriseSource,element:a.jsx(mo,{})}),a.jsxs(w,{path:Pe.Root,element:a.jsx(gi,{}),children:[a.jsx(w,{index:!0,element:a.jsx(mi,{})}),a.jsx(w,{path:Pe.Connections,element:a.jsx(fi,{})})]})]}),a.jsx(w,{path:`${$.Connections}/*`,element:a.jsx(pi,{})}),i&&a.jsx(w,{path:$.Onboarding,element:a.jsx(po,{})}),a.jsxs(w,{path:`${$.Settings}/*`,element:a.jsx(Ra,{}),children:[!o&&a.jsxs(a.Fragment,{children:[a.jsx(w,{path:A.Account,element:a.jsx(Ao,{})}),a.jsx(w,{path:A.Applications,element:a.jsx(Uo,{})})]}),a.jsx(w,{path:A.Workspace,element:a.jsx(Va,{})}),a.jsx(w,{path:A.WorkspaceMembers,element:a.jsx(ho,{})}),a.jsx(w,{path:A.Source,element:a.jsx(vo,{})}),a.jsx(w,{path:A.Destination,element:a.jsx(yo,{})}),a.jsx(w,{path:A.Notifications,element:a.jsx(xo,{})}),c&&a.jsx(w,{path:A.DbtCloud,element:a.jsx(Fa,{})}),a.jsx(w,{path:A.Usage,element:a.jsx(ei,{})}),t&&a.jsxs(a.Fragment,{children:[a.jsx(w,{path:A.Organization,element:a.jsx(bo,{})}),a.jsx(w,{path:A.OrganizationMembers,element:a.jsx(wo,{})})]}),n&&a.jsx(w,{path:A.Billing,element:a.jsx(Oo,{})}),r&&a.jsx(w,{path:A.OrganizationUsage,element:a.jsx(_o,{})}),a.jsx(w,{path:A.Advanced,element:a.jsx(Lo,{})}),a.jsx(w,{path:"*",element:a.jsx(Se,{to:A.Workspace,replace:!0})})]}),a.jsx(w,{path:`${$.ConnectorBuilder}/*`,element:a.jsx(hi,{})}),a.jsx(w,{path:`${Or.User}/*`,element:a.jsx(jo,{})}),a.jsx(w,{path:"*",element:a.jsx(Se,{to:$.Connections,replace:!0})})]})},vi=M.lazy(()=>H(()=>import("./LoginPage-e9pueob2be.js"),__vite__mapDeps([55,1,2,3,56,6,7,57,58]))),yi=M.lazy(()=>H(()=>import("./SignupPage-krpqtq5m5z.js"),__vite__mapDeps([59,1,2,3,60,61,56,6,7,57]))),xi=M.lazy(()=>H(()=>import("./CloudMainView-1gzevbh48z.js"),__vite__mapDeps([62,1,2,3,6,7,63,64,65]))),bi=M.lazy(()=>H(()=>import("./AuthLayout-jkypfkii3i.js"),__vite__mapDeps([66,1,2,3,67]))),wi=M.lazy(()=>H(()=>import("./DefaultView-l3vvoed7yb.js"),__vite__mapDeps([68,1,2,3]))),ji=M.lazy(()=>H(()=>import("./EmbeddedLoginPage-e2n5oxi2lh.js"),__vite__mapDeps([69,1,2,3,56,6,7,57,70]))),ki=M.lazy(()=>H(()=>import("./EmbeddedSignUpPage-d368fngu8z.js"),__vite__mapDeps([71,1,2,3,60,61,56,6,7,57]))),Si=()=>{const{loginRedirect:e}=Eo(),t=Ee("sidebar.showOrgPickerV2"),n=Ee("embedded.operatorOnboarding");return e?a.jsx(Se,{to:e,replace:!0}):a.jsxs(Qe,{children:[a.jsx(w,{path:re.AcceptInvitation,element:a.jsx(Yo,{})}),n&&a.jsxs(a.Fragment,{children:[a.jsx(w,{path:$.EmbeddedOnboarding,element:a.jsx(Co,{})}),a.jsx(w,{path:`${$.Organization}/:organizationId/${$.EmbeddedOnboarding}`,element:a.jsx(Io,{})})]}),t?a.jsxs(w,{element:a.jsx(Do,{}),children:[a.jsx(w,{path:`${$.Organization}/:organizationId/*`,element:a.jsx(Po,{})}),a.jsx(w,{path:`${$.Workspaces}/:workspaceId/*`,element:a.jsx(_n,{})})]}):a.jsxs(a.Fragment,{children:[a.jsx(w,{path:$.Workspaces,element:a.jsx(To,{})}),a.jsx(w,{element:a.jsx(xi,{}),children:a.jsx(w,{path:`${$.Workspaces}/:workspaceId/*`,element:a.jsx(_n,{})})})]}),a.jsx(w,{path:"*",element:a.jsx(wi,{})})]})},Ei=()=>{var m;const{user:e,inited:t,provider:n,loggedOut:r}=Le(),i=Lt(),{pathname:o,search:s,hash:c}=Rn();Je(()=>{_r(s)});const l=`${Ar({loginRedirect:`${o}${s}${c}`})}`,u=r&&o==="/"?{pathname:re.Login}:{pathname:re.Login,search:l},d=(m=u==null?void 0:u.search)==null?void 0:m.includes($.EmbeddedOnboarding);ko(),Ur(i);const g=L.useMemo(()=>e?{cloud_user_id:e.userId}:null,[e]),p=L.useMemo(()=>e?{provider:n,email:e.email,isCorporate:Rr(e.email),currentWorkspaceId:i}:{},[n,e,i]);return Je(()=>{Lr(s)}),$n(g),Nr(e==null?void 0:e.userId,p),t?a.jsx(Ea,{children:a.jsx(L.Suspense,{fallback:a.jsx(Ae,{}),children:a.jsxs(Qe,{children:[a.jsx(w,{path:`/${$.EmbeddedWidget}`,element:a.jsx(So,{})}),a.jsx(w,{path:"*",element:a.jsxs(a.Fragment,{children:[!e&&a.jsx(bi,{children:a.jsx(L.Suspense,{fallback:a.jsx(Ae,{}),children:a.jsxs(Qe,{children:[a.jsx(w,{path:re.SsoBookmark,element:a.jsx(Pa,{})}),a.jsx(w,{path:re.Sso,element:a.jsx(_a,{})}),d?a.jsxs(a.Fragment,{children:[a.jsx(w,{path:re.Login,element:a.jsx(ji,{})}),a.jsx(w,{path:re.Signup,element:a.jsx(ki,{})})]}):a.jsxs(a.Fragment,{children:[a.jsx(w,{path:re.Login,element:a.jsx(vi,{})}),a.jsx(w,{path:re.Signup,element:a.jsx(yi,{})})]}),a.jsx(w,{path:"*",element:a.jsx(Se,{to:u})})]})})}),e&&a.jsx(Zo,{children:a.jsx(Si,{})})]})})]})})}):null},Ci=({children:e})=>a.jsx(Jr,{children:a.jsx(Xr,{children:a.jsx(Qr,{children:a.jsx(Yr,{features:Zr,children:a.jsx(eo,{children:a.jsx(to,{children:a.jsx(no,{children:a.jsx(ro,{children:a.jsx(Qo,{children:e})})})})})})})})}),Ii=()=>a.jsxs(a.Fragment,{children:[a.jsx(Vr,{children:a.jsx($r,{children:a.jsx(Br,{children:a.jsx(Wr,{children:a.jsx(L.Suspense,{fallback:a.jsx(Ae,{}),children:a.jsx(Hr,{children:a.jsx(qr,{children:a.jsx(Gr,{children:a.jsx(Kr,{children:a.jsxs(Ci,{children:[a.jsx(Mo,{}),a.jsx(Ei,{})]})})})})})})})})})}),zr()]}),Pi=Mr([{path:"*",element:a.jsx(Ii,{})}]),Di=()=>a.jsx(Fr,{router:Pi}),Wi=M.memo(Di);export{Wi as default};
